package fr.acinq.lightning.serialization.channel

import fr.acinq.bitcoin.*
import fr.acinq.lightning.Feature
import fr.acinq.lightning.Lightning.randomBytes
import fr.acinq.lightning.Lightning.randomBytes32
import fr.acinq.lightning.Lightning.randomBytes64
import fr.acinq.lightning.Lightning.randomKey
import fr.acinq.lightning.MilliSatoshi
import fr.acinq.lightning.channel.*
import fr.acinq.lightning.channel.TestsHelper.crossSign
import fr.acinq.lightning.channel.states.Normal
import fr.acinq.lightning.channel.states.PersistedChannelState
import fr.acinq.lightning.channel.states.SpliceTestsCommon
import fr.acinq.lightning.serialization.channel.Encryption.from
import fr.acinq.lightning.tests.utils.LightningTestSuite
import fr.acinq.lightning.transactions.Transactions
import fr.acinq.lightning.utils.msat
import fr.acinq.lightning.utils.sat
import fr.acinq.lightning.utils.value
import fr.acinq.lightning.wire.EncryptedChannelData
import fr.acinq.lightning.wire.LightningMessage
import fr.acinq.secp256k1.Hex
import kotlin.math.max
import kotlin.test.*

class StateSerializationTestsCommon : LightningTestSuite() {

    @Test
    fun `serialize normal state`() {
        val (alice, bob) = TestsHelper.reachNormal()
        val bytes = Serialization.serialize(alice.state)
        val check = Serialization.deserialize(bytes).value
        assertEquals(alice.state, check)

        val bytes1 = Serialization.serialize(bob.state)
        val check1 = Serialization.deserialize(bytes1).value
        assertEquals(bob.state, check1)
    }

    @Test
    fun `encrypt - decrypt normal state`() {
        val (alice, bob) = TestsHelper.reachNormal()
        val priv = randomKey()
        val bytes = EncryptedChannelData.from(priv, alice.state)
        val check = PersistedChannelState.from(priv, bytes).getOrNull()!!.value
        assertEquals(alice.state, check)

        val bytes1 = EncryptedChannelData.from(priv, bob.state)
        val check1 = PersistedChannelState.from(priv, bytes1).getOrNull()!!.value
        assertEquals(bob.state, check1)
    }

    @Test
    fun `backward compatibility test`() {
        val bin = Hex.decode(
            "0000000200000b1b0000002a66722e6163696e712e6c696768746e696e672e73657269616c697a6174696f6e2e76322e4e6f726d616c0000002006226e46111a0b59caaf126043eb5bbf28c34f3a5e332a1fc7b2b73cf188910f0000002103f569caf6811602c3bc63cad63b4d5cfe808a3f269da354dbc47829f85a25ac22000002970000000b426c6f636b4865616465720000005000000020f230b4cb3e4981959011a8b718bc90c7a6a0734625f4e0d70fbfd647a51ee0465185854435bbd3d294ff46259a56ea557c2fd24fc0cb28f6931679426645e58c46ea8a60ffff7f2001000000000000000000927c000000000000927c000000000000927c000000040000000f0000002103ee444f9b8e2de8759a501c89b8532b6be2dcc5d8c8a125256c508f313106121600000004112a4ebd9482ebcc573126355bb80eddd51ca6f93ff4ef605a476ee53523642a0000000000000222000000012a05f20000000000000002580000000000000001000007e00000001e00000000160014dfbd041384ae68aaacebabdcdf4a9447a48ee754000000080000003066722e6163696e712e6c696768746e696e672e466561747572652e4f7074696f6e446174614c6f737350726f74656374000000002e66722e6163696e712e6c696768746e696e672e466561747572652e5661726961626c654c656e6774684f6e696f6e010000002866722e6163696e712e6c696768746e696e672e466561747572652e5061796d656e74536563726574010000003066722e6163696e712e6c696768746e696e672e466561747572652e42617369634d756c7469506172745061796d656e74010000002066722e6163696e712e6c696768746e696e672e466561747572652e57756d626f010000002a66722e6163696e712e6c696768746e696e672e466561747572652e53746174696352656d6f74654b6579010000002866722e6163696e712e6c696768746e696e672e466561747572652e416e63686f724f757470757473010000002c66722e6163696e712e6c696768746e696e672e466561747572652e5472616d706f6c696e655061796d656e7401000000000000002103f569caf6811602c3bc63cad63b4d5cfe808a3f269da354dbc47829f85a25ac220000000000000222000000012a05f20000000000000000000000000000000001000002d00000001e00000021035781540c52af9afd2d9980663b83fae0cc595dba65edbfccac50fa8a27d95095000000210289673a7292949b0b5a3c0f833a97e80f2954cfd2e0f8430c0bd4d7f8d2eedd270000002102d2bb1625229945acf450aa86ec98df8f6da4791d7b34dc9832e86d359d0973520000002103185eb65e3add9a1c0dbba3e900bf061d6979b24a6e0ef5d38ef8dc8029633f130000002102e915accfed9301352ce527b90357d1416720b24a907982814b620fcf4234a5ae000000080000003066722e6163696e712e6c696768746e696e672e466561747572652e4f7074696f6e446174614c6f737350726f74656374010000002e66722e6163696e712e6c696768746e696e672e466561747572652e4368616e6e656c52616e676551756572696573010000002e66722e6163696e712e6c696768746e696e672e466561747572652e5661726961626c654c656e6774684f6e696f6e010000003666722e6163696e712e6c696768746e696e672e466561747572652e4368616e6e656c52616e676551756572696573457874656e646564010000002a66722e6163696e712e6c696768746e696e672e466561747572652e53746174696352656d6f74654b6579010000002866722e6163696e712e6c696768746e696e672e466561747572652e5061796d656e74536563726574010000003066722e6163696e712e6c696768746e696e672e466561747572652e42617369634d756c7469506172745061796d656e74010000002066722e6163696e712e6c696768746e696e672e466561747572652e57756d626f01000000000000000000000000020000000000000000000009c40000000008e193280000000001980138000000084f7574506f696e74000000247f7886e98bdd16db8b09ab5dc928466528fae6419812174fd29dbd67f1aae290010000000000000554784f75740000002b7cae02000000000022002093e6314ab78e7dd6d1e1b7874e636f1d3ac3ceecd2769a8e3e266c0b27415e0e000000475221035781540c52af9afd2d9980663b83fae0cc595dba65edbfccac50fa8a27d950952103b827ea57009817e15d1979454f6c07ae67c7b900c9c058f836ac32059379a5fa52ae0000000b5472616e73616374696f6e000001bc020000000001017f7886e98bdd16db8b09ab5dc928466528fae6419812174fd29dbd67f1aae290010000000009984c80044a010000000000002200204a88e3d85675703ba0e3ffa9c6cc05a92e3af95d007a2ba41dbbd6fb9228cadb4a0100000000000022002089aee362f8e4cf3ef4dc26a1688309c1f57613922ee7914d5466443f3ec2f326e55a00000000000022002070f0b3dbd7855088f2e809456cdc06573c892da9565990745193b11bc1f09be309460200000000002200200aac45f49787442db69da7ddfccb66e16e6475cb265abe5362f3769b5bde338f040048304502210085eeb8a4a7ece4edad760470af6a918eb8ae4878b86586e7d8ff74149cdbe5f002207f97c5de7ab0a5e5008d7cb09309e12443be46492cae32253fe870bd75add740014730440220149a1a6b3b3fcc622ff2f325df5b8546e6c2b5e662c84d6e5513829dd1d367a8022026bcb06ab6cb2e106dfc339f8f61351bb2ae892a23d220878a9343de26411b8b01475221035781540c52af9afd2d9980663b83fae0cc595dba65edbfccac50fa8a27d950952103b827ea57009817e15d1979454f6c07ae67c7b900c9c058f836ac32059379a5fa52ae18d44f200000000000000000000000020000000000000000000009c400000000019801380000000008e1932800000020bf4c124b9301262ebee9e758f91234c55677a6f5f9116a174207a91ce4dfac87000000210371f992c2c203ed137cc7ee5f53af35ded8d444263279cb514799e4749753fcf0000000000000000000000000000000000000000000000000000000000000000000000000000000010000000001000100000021028cd4c069ef4196ac101a81186ad0ec23a4958f3c4cd2478f4b54eba3879c36fb000000084f7574506f696e74000000247f7886e98bdd16db8b09ab5dc928466528fae6419812174fd29dbd67f1aae290010000000000000554784f75740000002b7cae02000000000022002093e6314ab78e7dd6d1e1b7874e636f1d3ac3ceecd2769a8e3e266c0b27415e0e000000475221035781540c52af9afd2d9980663b83fae0cc595dba65edbfccac50fa8a27d950952103b827ea57009817e15d1979454f6c07ae67c7b900c9c058f836ac32059379a5fa52ae000000010000003f30303030303030303030303030303030313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313100000020ce4c68bdf7ef03afa1d345fc3420794116f65f18865c77644063aa6f1b901a51010000fffffffffffe000000207f7886e98bdd16db8b09ab5dc928466528fae6419812174fd29dbd67f1aae291000000000000001d550f0001000000000040815ae5fc117aa1032dadef9392fa8d358965122d28892359e6a3c93717e2e0a13fc6c378680b4224fed354a94417971b148042c29c15165711356746921d48030000002006226e46111a0b59caaf126043eb5bbf28c34f3a5e332a1fc7b2b73cf188910f0000001d550f000100000000608aea56010000000090000000000000000100000000000003e8000000000000006401000000000a79946000000000000000"
        )
        val state = Serialization.deserialize(bin).value
        assertIs<Normal>(state)
        assertEquals(state.commitments.params.channelConfig, ChannelConfig.standard)
        assertEquals(state.commitments.params.channelFeatures, ChannelFeatures(setOf(Feature.Wumbo, Feature.StaticRemoteKey, Feature.AnchorOutputs, Feature.ZeroReserveChannels, Feature.ZeroConfChannels)))
    }

    @Test
    fun `backward compatibility test for a pending splice before htlc support`() {
        val bin = Hex.decode(
            "0402c1f79aa27b2c20c16f93544460bab4d8bf6dcefae621ed5ca5d07fedb52f897c01010410101000037108815ff0128f7ed22640485c226d9ad64a9fd6d8b41b6623565aed6b34812c09feccb3d240fe25a2f723fef3917edbfe27192dacfe54da43b0fe10038f88fe22e53af1fe6aeb1607fe80000001fd044cfe59682f000090640116001405e0104aa726e34ff5cd3a6320d05c0862b5b01c13280880000000000000000000001000101a51020362b19a83930389b4468be40308efb3f352b23142ae25e6aba0465a8220f95b06fd03e8fe59682f00fd03e8906402a12f9846fd62439531cf93f728b64b9e1b2e15ca851bf219325fe194e0fb7998022eed8d9faf0f854b21712a20e2ceb6e4354f768c2de6b8d8911794d508a6817c031a2b78b8502fe54333b880de820dce58a054467c229d02d9686df318475a1f24025ccb72f8bcfbbb459502be992e635dab69bdcf7d8cb9630c84bc44c6190ae7261408220222000000000000000000001004142a510200000000000000000000010003b0a19bf13175e9a28f6a571226071ea9cfeaeb26f9276e789be2ad2cd6a4d21502fd0249020000000001026f4bf7f5d389c6f0a055e69f55a1bf87d8bc0351a3c49ce048760f0f24ecccc00000000000fdffffffb9fa3e79ed827f9121f75543300ea6721a061f2b31c2fea681eb75ce986f0c190000000000fdffffff0140420f0000000000220020987b715dbb90ef5ab15add01c20bea31144bbb968599350c9dc20967164e66b00347304402207ab85e6e292ae514650997620a569c83008b5839330ca9dc5794b0eab6f5ba1302205959f036c04adffc83be6a373b22fbda7f2670f942ef7651eac5a2e5654b0b0901483045022100d4cc35848035c51fee4e8d114fbe66c6de91af4002e4246f15239815a4d0f42d022038688f60010a3d6af945eba5d48f22f2f3d5f3c7069f51aa577da62982f8e234014d2103d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc4919ad210256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdac7364024065b26803473044022053d90787db0dd8466d96e71b759315306a8c273fae801c1831e32eb2478cf96302201137f23667039c9ffbe99b72a48a8d4d26af486a14782340daf8d13ec63d489401483045022100d32e6d7bfeeb96e1572e3a34ec2e313994ce3f58e679c2735dabcc5ac226224c02207db8631ef9d424ae6fdf9b3843b0d065dace67ddf873660b8b192b9ada4e9be0014d21020bc21d9cb5ecc60fc2002195429d55ff4dfd0888e377a1b3226b4dc1ee7cedf3ad2102d8c2f4fe8a017ff3a30eb2a4477f3ebe64ae930f67f907270712a70b18cb8951ac7364024065b268801a0600fd1388cc0047c1f79aa27b2c20c16f93544460bab4d8bf6dcefae621ed5ca5d07fedb52f897cef4cb34b037ee2213ea0a7da496cd5a8f93455d9b273702c4b66a41635596c4e0000fd025b40d4cc35848035c51fee4e8d114fbe66c6de91af4002e4246f15239815a4d0f42d38688f60010a3d6af945eba5d48f22f2f3d5f3c7069f51aa577da62982f8e234fd025d4053d90787db0dd8466d96e71b759315306a8c273fae801c1831e32eb2478cf9631137f23667039c9ffbe99b72a48a8d4d26af486a14782340daf8d13ec63d4894000000fd1388fe2faf0800fe0bebc2000024ef4cb34b037ee2213ea0a7da496cd5a8f93455d9b273702c4b66a41635596c4e000000002b40420f0000000000220020987b715dbb90ef5ab15add01c20bea31144bbb968599350c9dc20967164e66b047522102a3581e881ac04f995c115c616ad184734426d3c28d2eb450f79b8aae214c44b52103b0a19bf13175e9a28f6a571226071ea9cfeaeb26f9276e789be2ad2cd6a4d21552aefd01bc02000000000101ef4cb34b037ee2213ea0a7da496cd5a8f93455d9b273702c4b66a41635596c4e0000000000998a3d80044a010000000000002200208ef5af3d2328c42cab14b324e96b66466edcb7371bf1636a5c542f2a5d8b75804a01000000000000220020b4631c529878505e750560c858330b874b8a98c7291b3ffe480a0281cff23d76400d030000000000220020cfc4f0603c66c6176b9ca453f0e65fd62c1dfacc95b8c13c25c69a335e0dbb64781c0c00000000002200204177bf2f0557fb0ec3bd7223059bda698a9e4d5736a803c2c3efe532bf9977c20400483045022100c8ce40afa3dd248ed3461db107b73c525e6f68828dd3400f5d21fb217811265f0220349361c7d01bbcbeeea46710f56c5b13a207161d39c6d4d44521b8650dc44cbc014730440220023d629e2eef013faa92a1865e3f86f63a0e5c5746b41f53091a9f5afa96831702206acde577e38bb6b73a7bfa19b07be63c8e84e9a3223c4e5b7be89633583fb91d0147522102a3581e881ac04f995c115c616ad184734426d3c28d2eb450f79b8aae214c44b52103b0a19bf13175e9a28f6a571226071ea9cfeaeb26f9276e789be2ad2cd6a4d21552aeec50ce20000000fd1388fe0bebc200fe2faf080035ee4fda2e1781bca6a32971f005395d5f6db59dcff90ae914cf1e1b88f3fe4d025e5f1c7c10edaa1fd989a4dfa548860e7efb37240fa4d7d72d85e6a38eefe18200000001025e9a4845223667a1eaabe5eee4e715817a8b2319a950e0d1d5131a32ce774b5f0000fd075f0400346e42fc793f976fe7151b268b331c6ee2bffe31b78cabe05c81a482346757a1d8476732c27acc6b7e5084298755db43b72ac0b79bef27ad159a08ac8d52bb8f7b2786b6f4b8a28bd40a0e4911ef633e87cebb206475cd40bdaf7328d93cfe33a1205441b8c1aac465d78913f4aefc7027463b0f7552d50a6bc2fa72eb1e2e806db02ebfd0ab3876ecceaba58b4ba7b2f70983ef67fc5cf539c2267efdf6697ddeb17cad9ffcf60f71391a703a54cb1d33c43373112304f82b147ddcbabfe3bf26f96ec86b44a43f10e952310a97d2f4f28c8ec5f19f1218714384ccede114d290af9ba57d6605bed4e023e156811ff2183fb65fb26db24aa190b273787eeaa680874711752d7f614e8589c1a6370b28cc1bcc74bec773e793be93b6b859db3cba78d6e1069faaeac2fb5bec034b229759ee4b150535d452d11b4dce82ef82facf7bec853b2f6865ced290106aec0b7ff3b4b765eafff2fd66f0c73dd66c4379da62dee48cafa22abfcc580f52b8219e4f50474c12102381f503a4e6725972ce25bcf6f08b611c3cef63214a313738dbfcdb4587af602ce58cf9ded063f47c2ad7b39a87a7cd336eb06276b6d12f6d084b1fdb6dabea62d30d15c2e5e710577ad497c14318e7869dc69c2ba0b3352229a6caf7c225d66f5743f925bf8617fd790aed1a88859afc95e43f43895e9650ccd482768407c4b98c1929e103fff7522b1e066e30e6b38a34856f9b45584aa2bf3450819f518ec8a03e7f41f585d7baad25f43024e9042db8e8942d3e7754d93d2fca73202670890a8a1d5e7d89030ec8a2126728df945617b1758be8f87a29a58ec32d77a80a3217d8e8c12ca8ccd3a4a62947cb285be0ca80af7d0fd9ffc52f7c87a289a40b90db417a46c31b9444416869e2165e580cf87dd149f38ab82c3ed892b635c5db67c707913daa35d342dca8f84d8b9ffa368544580322c9f2d05e611b76d40d1239afd37bb221377fdda627021b4cf5386536be73b39c2603e4fcf5cc8a4173cec48ac5ed3287107d0a3190cf9f5e79006b1bd6392970dde110952642c8fc0e385ea4cd8fa716c56d336c17ef39f4eb019d1e461bb9afd1b29b9cefde33dde901c6fe6fc53da370be2b2a46c4f259514ea3a34b03c24722d02708b5ee1827dbdf12abfe07987b45dae444cde32344851d8197d2063b158d4b7eae1b4f310843bf2e413125d9443a08b249deac493e45895a5e7869ac2f90a04d47ee58ac429b6d3c1b0cb30f7ed15aece49076f92fd2bc7ec95c74c4ecaa94cb00003bcce97b13336ddce76de1b990f303f32563a1065e590d1e2ed65498eda3af11657c9e7bf40838f05fdd0b6b758c98d7c6de9691b07ba82249e6fe941d910e8ca1a5dc069cda1145122386d871b797af6d4b16c489a7ddccd68ae5c29c4858660603c6cd9b940f42ffc7797ef324a36b0f02a231d79c834bb9d02cc199e8253579fb456e47415bbe09c9c0d6a537f56c2ce3504c3978822fa4f193a4d51eda7d2d81938fcd099707b9daa381bb2d0e08ad4617ebf26d1205e23229a812fbbd297f50580f1aabe14b259818cfd877a4c014e7a3d766d10f2d2b822f2532352634b89720d884d25479272d1684e74627869153c999062f396c47af4b244778ec0b1b2c09746fa6e71e65f6914a5523cbcaf0e11cb989eb2054fab4938ca84963959d626ccf4b4bf4f7ee8979e8c9c449274e988c8130922bf977ba7650673b6795601470702a3a5aaec49c0f2d91ceb6c8cc954cc350ea0c0463fa2694594febbf2b0519906175f5b9a5786be05b92a270d3e6d5a77739f5a325ff9d4a92a314930bf28b54647ed3ce0d4393474d062ed207d7b8a3a2720dc25d17f0f4ac88479c3ef70530c9a9f9ea23019eb4ac26c1846327244756ec448a99d4f9ebb671601f6e15f0225d1283cf4a678432c8c28af35ae5ec6a646b01acb14d30cd14efe564d4d7559b4d79f02a5f6fed52b8cfdca692bd733832ece06001ed07eea18e28dc8f29e3012d312542fa4aa30dc5419d6970f882b422253878b59a92502e39507cd0bcdae25618b1910502171b7c8e322caa62d3c6676737760bca3e24a6b601982e166b0a1f79d5f4dbc940d3ffe6879586af16d880e3f16c4c84d22152f26663de7b86927df4a500b769204f1cb55b7b2fc744509eecb76fdb4b130d1bd0a196a70fd85e3a8cdb149957703ad8d43981e457f7abaaf2c58b65ecf41f116b4c3dd9fb3e1e2efbe60b4054a3d1baaa0f3091a6b39cd6a61909b1f73d02a610091c8fdb8fbeb303cf4290d79baba0e0700e70548ac3e9af9884d32023712f674802932b6394369489fc722259654e080c4efd9f4e7bf0aa665374b290359ffb36375ed2f5ad1ecc062827831319f6ae8160f2df8bc2a170375b3f21553763034ceffa9f13f8227fa272f40b67444baf7b6f84a9eaf7854fc070ecc581a07ddcfc4a81e8b7d85a6cec1bb5f2f5dd15b5f2c7b85e4b441cabedb2892dee0d5abf0955d665e2aef96892b71be26d753ad4f7d56a54aa1e192161c21659d9ecafe9f728d0658ec5bc6c006e43f76d2e01fc0a9ced289df9915ef488107d5903848537aa6c80878f0b2b1760ea3a1a55146c235688eb8f5d3bdeb2d06f07ec0d1cd4a2cb7ee8d371307c2313acb3e187ff00002a00000000008a010225183d0761088563c7654df562ee91481fe56d13b357c58dc62073fb242f2e96633893ff89d00a475a4fe4c8cc61dc5fd23855763588f939f6cc797fa137b94506226e46111a0b59caaf126043eb5bbf28c34f3a5e332a1fc7b2b73cf188910f00002a0000000000658058210101009000000000000003e8000000640000000a000000003b9aca000000000001c1f79aa27b2c20c16f93544460bab4d8bf6dcefae621ed5ca5d07fedb52f897c01ffffffffffffff3b9600010124ef4cb34b037ee2213ea0a7da496cd5a8f93455d9b273702c4b66a41635596c4e000000002b40420f0000000000220020987b715dbb90ef5ab15add01c20bea31144bbb968599350c9dc20967164e66b047522102a3581e881ac04f995c115c616ad184734426d3c28d2eb450f79b8aae214c44b52103b0a19bf13175e9a28f6a571226071ea9cfeaeb26f9276e789be2ad2cd6a4d21552ae0003b0a19bf13175e9a28f6a571226071ea9cfeaeb26f9276e789be2ad2cd6a4d215039bb975b3bec65c671f38d9082c7a30837e95b87b1056ccb2b162564dfaaa8033011fa086010000000000160014dd82e90bd16748f535cab75db1e63b394f5d540dfe00061a80fd044cfd00fd010101010024ef4cb34b037ee2213ea0a7da496cd5a8f93455d9b273702c4b66a41635596c4e00000000fefffffffdfe2faf0800fe0bebc2000106220020c2cb46474d69d1707ef340d590cda687ed2f50467f7f9580b78593470021296ffe2cafc9f0fe0bebc2000102027d0200000001c6d2fa41d053e76a2410e6709e2e0c7feaea76e48948b273a167ff23a193bd540200000000000000000250c3000000000000220020778f86e213a518e8336ec940874ccf4b92910332f5b3c0265374a86dbd34e6a59600000000000000160014ba1b25f56373c6c9c7ba6458e90de5778bb4e12a0000000000fefffffffd03d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc49190256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdfd654000010204fe000186a0160014dd82e90bd16748f535cab75db1e63b394f5d540d00fe00061a80cc0047c1f79aa27b2c20c16f93544460bab4d8bf6dcefae621ed5ca5d07fedb52f897cd73a3879973c5dc3bfe5e8e3890fe57407a8263b3c9b144c5eb1807e3cb9fa230000fd0259407f8b07adf18cc2b1917d8d9ccf4e17cd7464f44016e70b99078e6e9736d479c32ee526ef9ed72607a34fb32cc21f4699da166df973a53c862bac3fcce458a231fd025b4056801e797df204c5c004d382548c3d826b5d4c6975df99262791a7a94b902a6376ad439e527c2f51e2e610e982d81932581123464bad7b6cb9522edd0f4c3f4c000000fd1388fe2cafc9f0fe0bebc2000024d73a3879973c5dc3bfe5e8e3890fe57407a8263b3c9b144c5eb1807e3cb9fa23010000002bd67d0e0000000000220020c2cb46474d69d1707ef340d590cda687ed2f50467f7f9580b78593470021296f47522102068d2c5f0ec2fb9442825b02dcb3f7caa3b28c72c8c6f5fa5bc4c85d93687d1021039bb975b3bec65c671f38d9082c7a30837e95b87b1056ccb2b162564dfaaa803352aedf0200000001d73a3879973c5dc3bfe5e8e3890fe57407a8263b3c9b144c5eb1807e3cb9fa230100000000998a3d80044a010000000000002200203ab9d87665f5b3b6fecf157415d5fe24fe2577da64e5191eb0f789f659f514584a01000000000000220020718752806a51509a24b7bc75f0a8a275710ae0fefad0a1569ec53796d77f4d1e400d030000000000220020cfc4f0603c66c6176b9ca453f0e65fd62c1dfacc95b8c13c25c69a335e0dbb640e580b00000000002200204177bf2f0557fb0ec3bd7223059bda698a9e4d5736a803c2c3efe532bf9977c2ec50ce20000000fd1388fe0bebc200fe2cafc9f039baaba55836c454a3198555fe3ef8c18ff7679288503580cf18b887fb626f4b025e5f1c7c10edaa1fd989a4dfa548860e7efb37240fa4d7d72d85e6a38eefe18200"
        )
        val state = Serialization.deserialize(bin).value
        assertIs<Normal>(state)
        assertIs<SpliceStatus.WaitingForSigs>(state.spliceStatus)
        assertEquals((state.spliceStatus as SpliceStatus.WaitingForSigs).session.fundingTx.tx.sharedOutput.htlcAmount, 0.msat)
    }

    @Test
    fun `backward compatibility test for a pending splice after htlc support`() {
        val bin = Hex.decode(
            "0402c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4101010410101000037108815ff0128f7ed22640485c226d9ad64a9fd6d8b41b6623565aed6b34812c09feb944a462fefea53b9dfe1171a760fe02058e56fefc6d42e3fe00a9cffafe2e095d7afeb16b16fdfe80000001fd044cfe59682f000090640116001405e0104aa726e34ff5cd3a6320d05c0862b5b01c13280880000000000000000000001000101a51020362b19a83930389b4468be40308efb3f352b23142ae25e6aba0465a8220f95b06fd03e8fe59682f00fd03e8906403d504f9e2c0bc22e45093511d4a50694e1bc637175ebebbd68acef755175fb5bb033dde0adb2eadabe2487b45793516d4ed124b109c436fb4e36fcf8e5bc614658702ca6c7d92c1d21d66e5cc73a36572f9b64b276e36904f4908b17d4a3b263416d0021c95a2b55b030d80c09661109ad798d6d839feb26064643b920009b5b341f90a1408220222000000000000000000001004142a51020000000000000002020401fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000000000000000e4e1c0fce4d408665c5cd9eac99ce7babb852909bdbbfab979d981d95fa274af872c8200061b1000029a8bab32cfd069273baf8a1bfc003d975249c1797cf1d1f41ff75d17dc778623721f87c8fe614e47f3b432a325d8879389bd672c368bdf045b5f33527ea7ad5aae4ec7736bad1eefd197b234bc0268689ce2399ae3e8b19330491228efca2f62ce2d75d6f14117171ffb89cc19aefee4747dae2d943b061ec2b80f726a3de455c3f9c88f3291911dfd8f792c8cba419f6062b0031680cb6d73d5b18338311be0a26bae61ee4a73a89287deb7a2da9db0e2247bbdb3b064d1277566cb5838cf1888a8cb21950624b94891fdf592aa9bcad7ce1bd3680dab343bcd023543a34c634ff4ef85ed6177e8ab68296313530bcfc0d82a090a7651649fb08ab02df9b5b03b8787d3b667d0172f938f50352b3e9fea859c623be7a7a881ae34b6eefac2fc9d6fa0b85e707fb5c66816d32c6abb49a3ad15f8e0827b84f4b19e1f5a44178e442a415d0cf8a012e9e76296df8cfea71807aaad372991257ad52fa350ce272c27e25afcb6bc914f6926a5fbb8051e2f7e94735e00d8e781d51be4907f190fdce6570e4597169119a48eaa5660ba8207c40328a8ced33f8f381cdca7cd98ebe9fc38adbc734520e9075153e42c8802fa9f25d11fd5cde6fc194dc57fba5d391e4e85aeaab58a5a8e18396601c806d070b419cfa8e622776f4a81604cd7eadc9569b14d66767986d6836c10b6ddd04df141938431e423bb96f33bc5cf6d9ec496903f88b030216a01d07f7ea9a5bef992e6253b8a85b16419c4591694c45156bc67d8db0159ba0850d74f137061b9c917c5d3a45927be102a3934070292059c3d049954546b729bc9da4102c4e48157a9095f2567a06a4da5b15751ae492118f49312e9fba0dbc4170597a5da0e17da41320d99b385731c89bb1264b351f1355da52c39c59449a429bfe3ab7623b883bd3ea8fc01992f8874fce447ceff85120579919835660dc38d81388997ce3c7a99caebb32148e5a234ec21a994bcbd9c53f83bf8a78146069ef724e63201e25e9a357a3411eba4e03d09fe498ed23161028304036ec418fdbaf991afd5bc947e7957168574d5587c7e3b024f8f14b08ef7f07fcb287383a7def2e357a5d1cee69e2c691cd8105c54edaf746987e21ed529cc86f48ade1ff95c9d652549e2d1294c31342de7f815bf4fc0b6318ddf41d68f53c171bd0759b672466be594f316f3354e046be1dc0782e08c9f59eeb41a654a7122291c93cdf53f0dbbce659f3050edef293229818f54e36dad64ae5b297337254f456834d2338d1bb8e73f6bd2b1108e34e622514e9cf86227683a8a24bb1d3854dea043ff5ee770eef0ef300e34b994d6939fe6581d0b5c2f47d52482451e78024d092630796ad29411f379ec2a22efd7cc70ee9397d89f09b2b42d0371ddff55a85df1da314050c26e44c1617e7651ecfdd3ff5a79a3285aed565691119fae1802a75f156f21c9c7026ad75d60aa021fffa4fd5e60b86146fff244e8f1db52ab5c97d157d528d5a29ac3ba4dbddbf976a83caf7c2a9fbd3fe3869dc4a1ac9b641ab58ebd0e4b6ad97fddaf36e730d37713010679e594a13b2d56a028509bf85967e04f254258ba7be8c789db448cf65802755527b33efd2cbe310f972df46e7c425e99442faef2e7cd9134d0e05dfa3b83f18228cfbb0daa43dcd08ae572b497f403298871f679b235c16862d144a81336fb5e99d1037064f901c3235f03823b9ca44685669c3dd969dabcee9a50f36161c4772b17f7dd32ebe0e095433b46aa41a12014c602fd014176c4399521e4ef16f0cd58976ddc504eec915fa13fcfe366d203afbd5e1a63eb3c9f05ac9bb31542fd8a174a27d1237226d554df928ddde9a53849f0361b5d667e5bc4a063ac12bb7c29e4022be347c919626a23465368af050e9061af56f784962ae9bcb3d902b01401fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000010000000000e4e1c085748b11066ba78c7a4783329c29fafda6a601e9a52fdf6da215c053494c09c900061b1000030aa45d94b0c31aa64ba3bb2578325dd1a14262334ecf1685f9bbefa73e7e521961719f11427cde91873bad602f7f47bd3b5f1e5c853db889695f7136f2f98e19aa3aeda6c06b2858a3a2cf634768015c113e8ec16fc75a4e95a95fd9425ea134729c355a37fd7878467225bd1a6585f23edbab470ad8846aa820e36c3e28aff2ba86ef4d814373bee10cc51a5d5aac8b576e6dd34472d1d7397341bf6972fce46e1cc49e656a5f667f4c30fd0ffc0444366be23fab79135f7bf47b449f0aa77bc7669af5307f1c890fd047282f74c5f15aaadea00d2288ed30d1ccbeb93c946aacc0ff186414603ac0b9cf943e533c10bbc2c1ca8376c8ad1dd2af606e9ada581c7aef350b8b5332227b32b4b5e285443770c2ebbf4690ce908e76e6bc701c1744300aa148275ca197816c36cbfe483b4f67870d9ffdd63a97c2a49fee181ff9397d74a94235facb2d005b8af3377fc38a1b4be655b10e2daf89b468398e1a91ff021ddfd3d23855bad28b440b237a9c647dd70bc270167ae39ef9d9ac2ddfac13de12d919be6d43970d6ecaab2345e09f918a6f12a93e3887ec087f310de610aa1ed3430677b2de0eea41fd9bde0dde551025476d5c5563df74ea40090d72c00c8170f5138d62c6176637b3ac298e0896bc32512f5fb2d560fd54189273f23155b2092f68ec2e67a08b80c397736c6d7c179842cff7f00d0780e7c078b17021b1f7a570d0123fee296559607960b353cbfe72c502602614fe020206cb6a99269cde4b60f58225ee04e289eaa435279a49759402dddc767ffdede72a38b71c077f6e5154ee1a5fab12171ef4dcc7aac8ced38260e217d48aeabf06ae719d2c8b0a4fcfa4d982f4da6142e3f643000ac8a5d5ae553c36022ed7b89988d65d389e80676142111798b13ed1a8a7f9e097cbb5c36e6b2d3b35dcb0e2007ecb870c2137ea3c7f27e7a6aec807bd1056fc26b901bc54da7a593ebdde261340fe18bf3fbf6601dd032d40cc57122de5318c45ea3470290c710fa77162eeb6c29b4b136fb6a88cdc2fc3deec720a8bd4324cdf4b73c90b62a3883ed1ff0a105860e012fdb00a5853bf4227b105855a0131d9a334d7b88dacbc9f92675a39bb1793dcd22d41c9037345fb71e3548adf118025cbdcaf7cbfdcdeb80d9cdf4424f37475b1b51cce27780f857730d22f38768d44b9905416cad1c0056a03366bd2f8363e72fd56c4d02bee5c256daa9f68d1e63aa500bfd2583706ffdcc6bb95b5649d630bba92f2b3651eda32177b009389dae7334c6f3ad67299fab21bae4f1a7a2aab9a1c6d7f38fc230944005dd6819b621404af8ad74b080a4948b7fc272f65035e688f6ce04c498393415feeaa2c1801d11b126bf1e8315eb7f65457b731da70515fa52790580b547cbd3f27048b29ad5adc2b6a7610a473113aa4625776928fcd5a4dfa7134b4c6c3fb8dd2c72d412d272592ed1bb4909e1fc149ae88ad9eb038b0bb9077de52b41a31f7b3f42f3651f31c96f11ce307071973461139c9536c619fe30c6026dc9e78a28b31d3e39fc370304f8f077024b3eb3d8085641c256bda6f7f8b01dce9ec8898a77a526d5a6faff4c55a6b592560474d8e26406f8c8077dfd41b00b58c42295521dfba5d54ebdbe76a868946f9a2c10516161613eb618aa427502f80c6bcec6138c1f32806a849000ef09bd4967781762ecb3fee037a82f0103777a86c374891ab923a0c6de2d1c0400247eff31abb781e19ee270a47d471ca810cb68db4fe2a35d16bda49c67f6f5bc684bd997ef9f76142a341cecb025f497750c430d71a1e31232689025a8b445d689089811ea6405704ff71b2ef39a1ed570d0bf380132d32a1ea961f51e421f592279f1506912c838dbcf126ce3d1582e32c70fe932df599eab3b2bfedad100ca874de1300fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000000000000001312d005381a6ac452c017023e22a18f5ed62a25fd93aa69a22399468e13222eaa3d46b00061b1000033a7ec4227c55fb74e3f439ac42fc25dbc44c3ad1ac517799fe573c3ba00f5c55639abcbf5faf18cf8065550c6502770190c12dc467b10870e4bb490dfa0042db551a5f228affb013c8d4663623b0584d07d39e553591fa6edecf12e89d5a18c1f633bfac3aa31e1ea1ff324ddcb39e22449ab3c340f2c059c30223d47a82ad7e64fbc6bfc64dbccc3b991e555b3aabbd279489b3f8b6fe0e01792d523678b6a0f60ffeae359b593f7e1e4a5c768e9fcdabc423cb19e5e15be2ffdb9353ac19602e5dc94465d372abc0495c645b1823b1e84dbb3023f9d6cb8470d98d5845f501d804bac7ab6735e6ad1efa3ba05069ad8aa59ce7b53c46361639220a40ee40ac523d1e520bec94918fb25571a3d20083af06431ffe50fe9f2949714b125151bbc44dd5d8e1ca415eecfcd1530ef94d5a1c39f2f8dfb1b4b6a3cdb0804c2bea088e522cfb10378b637662afd1bffd17498c7dc8a7fb8d4ab97960d61e7ed5c3cfc5df77efc6cbf3c74b2438fb3e81ec2a779183fad1487ca527221941c1f59a3029efe088d1f37e7b03ab10a3336faee43c71d4a7f2b952271ac0b9709e4c87050c082ea961cc5c141d9455918f60aff12d2be1c51cad5e00ccfd4552baf41220a46ea93cdef5a77af9ca9a248cec71ac16f726ee4a5961533bed5837f24e87e1cd871b32ae6812b945594471a1533fa1c9345975a9c0ee94a39466fc7b7b9ef3822a3f0bedffbd5c8b01b428ff266afd28167b9d261d23dd398ecd4e32704ae7ea71a002c8514261b8e7fbcc6a1d2d66e140a468f5e4967edd85b741654279c0a5957524a8824b29469ba9f1cd72686a3e57fe08f894c7144bd513948e13538fba50234926364ce4c2360c88b6064e5680df71aedf695066e4cb5ccb2d5f0024b40b737d9b8b1f3e0f84c0fb693b4d1341c1780bc65802de7a81c4080fe3edadabc3627a255edd405098041389112f6a38202241204dd6f2d949c7f05d0f4d71d1b45e0d63f5ab6e57f4e8e85480b6b249d90dde207f332298f1a0fb9be0577b48bcaf5c2c8c413601037252005d6bf809363f192d6d6e9f976dae6ff1a836e985dc6c9b36a23de343e41c1f6415bbb3d9e321457cb7cebc687940db24e28e95b207bd2f6b47c815e6eabc11f4d75f81ab3d66fd20e1900607166d5b9f3f7ea697b1409a48f2d14aa1bcb6e8e73cc30e895edbabbc3ae9294a10f14c8d20cb4adbbe4dbb65cc41896f9582f3bfaf09c05c996e86892c24dac3ffe6ee7abfc5a60d81e249e534e065e61300f9088d6706f694c6f182516afc1b798f264c2831f434b25980b2ca445b356077478eabd275431ec974dabf203f274f7ca40a1eee8beaffefef469b9ab2377904375bdcf0cd8ce7117a835784e4f70cc048f04c62a4cb9fcb058597022b7523ff66abc1f93c140289fb758e7f2bee700e3f115ee503e76be983c5a8dd3e7f5c5e6029ee14af2b940851287ba5104994206c888a5e5f4dbca06127dea382cd0e368da52b924c967f5dd10b7021628292e34105d191a8aeb1e246be83685f553cb858c87f69f66f704c7ce0ffd1adbb610b2fdd562f26d86ffb333573e8b9a5a34d0998153f7c8d8426f9fb215c97e75530eab3ae0189d5930ae58a86b98a6cf59612fd09cb58ad4d1bd415cc041f8a1ecb5b8eab711700b3f2f7b63b57545efcc3bc2abf6224e6ce725926679daf1de033471f5a38d7e1ce9ad0349cd486102c1384956a469d83cc740e3ee1fddcbb9315e4b3a8489bc29168a1a823c1dd8bd0086d6eab123e0165c7d13d121158badb991c2401bde86d30233d275946acab7b0645f91e13676a32ee047b41ab51e9581d5ec9e61079c2292dbaf6ebb827b5d9955329b1251db24b9e3d78a02ef71b3c0595372ff50bc7c89cca6c93f78f07c3b285dca3d18ef671c11d00fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000010000000000e4e1c0963c4f67ddbf9158cf994c9b800bca63e3850f605bc85fb20901bc321fea49f100061b100002d3be755d19eb3f22830ed19c131bdded376e979d5d5caf48590ce4dd49ca28156027dc02b5ea32642693dff80fabd9bedfd1d30fb63cb956af2faae4482ddcb7a566f3efb99ceb035bdf6486629c5394e9ef47d4f522cc5ffb26d34a3d8bed1b9a1e15fdce639b4ea4b04dadb725000400d1c7cbb731a896e1bb11374ccfd7eeb67ada369e7796072ea24cdd27d343574409eca54527f9362f64ef9f9048a17a575eb292a5f56953f51e1a982af8b7855bbdaac0c9c2c05cb51a8e761d91af07a5083da19b9c1b270679649270f09b79971200344783f71c9c69744679fe44472148163ee09933f2a98f39a695a1e005282143c78cee3b59348d74c679a7cdf423106d24d9fc8468388591d0dba05a2e17cfdd1a0e59025feed98597794ebde5114ea049f3791591815d7dbe45844dcc47d1ed84df345558a55dc63b4927eaac22700f0900db5ee173c1e33d12f04891bb6f2e8efdbecdd8e0027f09e57570458ae13dc7af76bb7bacfff1ba21c6a079132df3b5c174ff324aa6c8798677d8eb3695975141cbf666fedf7689f624b0c64ebf0c8cb240b1a6426af1be3d5fa490b59845a405b2f8857093200deca6363ddfb0de045d2e78d66972640175a71efb88d7a099c20c4170b6bede458422b7232c069ac55ec6cda7eba9967de4ded2d3aa34732bd3fca4881fcfc160dbfdc87cd3ee205eb947286ff869387ff28ddaf96ab9d5a5f4133fe54b40b5f474a1f3d8f0ff7c38a19aeeacc31f7a6fa881d9bc86c150e768c61c6edc0a9e44fdab89245a8396263841335d4b9bfc9a0742f588dcfa2caad92d628157bb8b00afcb7c58c98ef0021742134e54d76b45d562f7b491f52db40327c47291e9b95c621368cc0ab4b8f4900ba33a2c6e7a6bc550bedc38003392be68ca6d00a8f2e67d2257c93c17728420e748f5994597d3a3fb5d5cfe069c774f2dfc3165d2fb5fdac1ecee75b59dcaf2d90cad5fba836d4b77c6b7610074b5dd32c18261d2e6ba08c53f9dd83e38f52b861e721d66144843563435c5381f12726de5e71d83db4c146f9b3b9b61690eaeeff6ec8d81cf33632c19618d6570d38e0221b86bf6dc75b18b97605f70428639d7d7e27610f180728284d139a4ad6f4d9620001ecd91e36e03c13dd97da08ec7fb0fba109d38f5c1a379e5e7ae605f6a5b5621c21f7a8512e85667a09f9e1a002cd96922c52efc56df06aebcaec109ba7efe52ba802a1f70d5118e0f791912e4eba469511f0c4da0aa0fb389aaaabf1a4a88cb501de945ef4bc435569af2ff6c9a4f71d0cba8fedf66cae778aa9d736d6b569ea018db2d809aabf49c8b0b1c36f8328b309107ad48185f58343262055308bac59d799b353e4ccc751e70cf732a01b5ae6067754ca3c3e7fa41f87072c7cf1e6c245c268a467cfba367c977a3729d0ab3c6684ce8cdad117ca2b8845a7edaf6d448ccc99fe021b37624f26184262edb6490e54c1ebeb5a02d9855c55bfb75127dc68f7b30821ddb4063dd1bb122919618f6bda7f84b6e1ac23e4b2945c96c982dc21630b38cf9b26ad12ef6ba5183954edcf5be015c5e5e6a89be58985585d06d7b652fc41069457148c9163d0685bb3d3107ba2593a1e50f75f3cc6852d0c92fe05598fa4114269c093c8673363a96b94afe3814d8760ad35e42c1dda1ad7745cc8e7f283deed2ce70a47c1b946beadb30b9ead8871b4a28722c59a95b191507ece52e2303066202d140d465347a3886a7581a65cc7d5d19631fc101bab643775437e32614882e9c8cf73c9290399ab2cafb04d8e4e7209012309364432879c1d3c55b34857bd73ad00ffc509a841c3f5be33474c3746ac56cd6e80fdf4f8d394ec43028647506a75b60f1987c44f58ebc2884e2da28f978950ec4bb467b122d03731ee94eca2b1649f5694a010002f09665e2eeca7660da13f8da413103422dcc969353cc879117a19cb8015b6b3f02fd024802000000000102cab049a8b896ae4f3bbd3f186da0c70e072450f28ac8feba10397825531643030000000000fdffffffe640308a43bc2e97b2fcd4fde5544b218b1ba7a4c97d8d7ad4a53d095fda879b0000000000fdffffff0140420f00000000002200203c6449397ab890ddb2c688ba0f997711958f86348171c384cdf6de73262964d3034830450221009cc6d358989f2fc83be197704d30ef2bb389444026a9ece3a02eb46c31a5e05902205498f3bb1fecd8fc4110db13e0ccf917527a40ab05ae5ca29bcd0ee045691f4b01473044022052f42b542e5fea664190bb155a4faf8125625a7ccde1b062dad20ff9997d116c02206f61450f1a15abcf98ec36b7d409e8cf9e52a07ba4b62d854f09d3c0491dbbe5014d2103d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc4919ad210256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdac7364024065b2680347304402201332a587a4c89f7f8c462679065571cff321cc91b89c41c39becd9b1e7d0155e022025766dde4256e3702065ade2527137bfd0585e8c6ec0fba96efa5c8f1231bc410147304402201c7a612bfdf94b18ded6b38ca16f2eeb59c8a666c2be0f7ccb7fd0974dad8ee5022011d51c60156a90b664a0990b72be492d56c1f05a2f01d8f004c1d61f094e88fe014d21020bc21d9cb5ecc60fc2002195429d55ff4dfd0888e377a1b3226b4dc1ee7cedf3ad2102d8c2f4fe8a017ff3a30eb2a4477f3ebe64ae930f67f907270712a70b18cb8951ac7364024065b268801a0600fd1388cc0047c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee41e518fbfcedefdf243f55a8dfd74720db1151aa67d2e20eff6769b88e090b8dfe0000fd025b4052f42b542e5fea664190bb155a4faf8125625a7ccde1b062dad20ff9997d116c6f61450f1a15abcf98ec36b7d409e8cf9e52a07ba4b62d854f09d3c0491dbbe5fd025d401332a587a4c89f7f8c462679065571cff321cc91b89c41c39becd9b1e7d0155e25766dde4256e3702065ade2527137bfd0585e8c6ec0fba96efa5c8f1231bc410002040100010100000001fd1388fe2de54480fe09d5b3400024e518fbfcedefdf243f55a8dfd74720db1151aa67d2e20eff6769b88e090b8dfe000000002b40420f00000000002200203c6449397ab890ddb2c688ba0f997711958f86348171c384cdf6de73262964d347522102f09665e2eeca7660da13f8da413103422dcc969353cc879117a19cb8015b6b3f21032416cc1fe1b31abaa3e22a41d5c54e1983effa7bc938d125ebd2c76e76fb5ff952aefd026802000000000101e518fbfcedefdf243f55a8dfd74720db1151aa67d2e20eff6769b88e090b8dfe0000000000cda2a880084a0100000000000022002082016b313812b58d8f06353fc06d888a1ad9cc1128541a5be2664563f46adcc04a0100000000000022002084ffb24b0b4addf353cd00c446f32115e9b8a41d247a16e8beb43aa2dee0edfe983a0000000000002200204651e3ec6c4fed0b1f605b5741a6a8625f493f781e2c819ec8c3c6e7348af71f983a0000000000002200205f4ed602c54e242b68a69a4f2c3e5705a822cfc99ebe09c773d3ebe9e664dc07983a000000000000220020b2f26c100af28a13b2244425b39ef455cfc0f65631dae208ef8b78cc442e93f6204e000000000000220020cb5de3c3c0e6f31526a01918323d64ca6ab611d9748354850c7f3a9bfd35668388840200000000002200205ba45f7fb84eccb104b280ec6ea4c261794c0ccef55d48cd24306c2dbd668511d8990b0000000000220020d5c5a151e77693d1e9dfa22cf95627caf2e07d6ab6302dd43ad6642261e572d70400473044022076d2f4b970d507aab4b5ba0941c8376d51703b6f22975b4db539505c37fb02e8022021573e5ab6a3884b6affad3553542fb413f26fa712427cd0db05a0e01ad9393d01483045022100fce0ae4376792dece9e818223b842d848dc3a36c22b4048a39d8abcbf50df4c502204fc3f71c9867047e39334a9a9da8bcfde19f4af549c08d32e4a3160305a352070147522102f09665e2eeca7660da13f8da413103422dcc969353cc879117a19cb8015b6b3f21032416cc1fe1b31abaa3e22a41d5c54e1983effa7bc938d125ebd2c76e76fb5ff952aee42c1320040124564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec78773665020000002b983a0000000000002200204651e3ec6c4fed0b1f605b5741a6a8625f493f781e2c819ec8c3c6e7348af71f8e76a914c7b8ea9abe20031e831bfb6b272dc61bc28625eb8763ac67210370b06f7de39f797875f856b65bd0335702eeecd89da5152b613f911e7e7a81817c8201208763a914a3368d0f95a9d5a5213fbbd902b0bb41799bf59288527c2103bd7bc3b1e792135ac5b037ba642544d943efa07aa79fd13f28ea1cc7a812559a52ae677503101b06b175ac6851b275685e0200000001564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec7877366502000000000100000001ce2c000000000000220020d5c5a151e77693d1e9dfa22cf95627caf2e07d6ab6302dd43ad6642261e572d700000000963c4f67ddbf9158cf994c9b800bca63e3850f605bc85fb20901bc321fea49f1014a0b2f50bd9bea034c555d19bad8debcfc9c69e02fd491e1e523047fdfbf874d74527b613acaff90958abb93377a9f1884bc35bb22bc45168794311faf6b921f8846104b4eede36bcfad5a1f08612b179c06e8b807a4b9c7041a9577820d53b0397d395b5c151d1c7c4c98aef4202850bb374ca166e588d77172ea4059280f370224564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec78773665030000002b983a0000000000002200205f4ed602c54e242b68a69a4f2c3e5705a822cfc99ebe09c773d3ebe9e664dc078876a914c7b8ea9abe20031e831bfb6b272dc61bc28625eb8763ac67210370b06f7de39f797875f856b65bd0335702eeecd89da5152b613f911e7e7a81817c820120876475527c2103bd7bc3b1e792135ac5b037ba642544d943efa07aa79fd13f28ea1cc7a812559a52ae67a914beb2665f75b44846b376692599ac1136d1e92e4e88ac6851b275685e0200000001564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec7877366503000000000100000001962d000000000000220020d5c5a151e77693d1e9dfa22cf95627caf2e07d6ab6302dd43ad6642261e572d7101b0600001431a6b6215917bd621896989020ff4bfb3f267942eab5b542d165cd66fef42b66370463a52f27c8c81bec913c97973eda1b3d0900cce2056d7895a7642d7aa87757fd82d0a1b0e0369e1b95151287173b281ad19f00f6ed8eeeebd05168ad6f139c75e0891d839246ff479eba4f930b2097544b7c7bb121a129e7eb143de75a0224564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec78773665040000002b983a000000000000220020b2f26c100af28a13b2244425b39ef455cfc0f65631dae208ef8b78cc442e93f68876a914c7b8ea9abe20031e831bfb6b272dc61bc28625eb8763ac67210370b06f7de39f797875f856b65bd0335702eeecd89da5152b613f911e7e7a81817c820120876475527c2103bd7bc3b1e792135ac5b037ba642544d943efa07aa79fd13f28ea1cc7a812559a52ae67a9146f273f74b2d5924977cb3721e8432ae43df3d0c288ac6851b275685e0200000001564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec7877366504000000000100000001962d000000000000220020d5c5a151e77693d1e9dfa22cf95627caf2e07d6ab6302dd43ad6642261e572d7101b060001768792af3889d1076719874fb43cdaa418a8eaf86bf879e4900799a0befd5e0a38eb7a275b4bec988c16fcc5c43e8a9b0f0d75f096d59bc2f82d002841be3cee2029c1b2fe76651a85309af3096fe23c7ad19a8d65812047859555a49f8d86bd6f14ff9d12f79c850b8b28ef47302d671aa016767092ef91c645d64c8a83ed1d0124564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec78773665050000002b204e000000000000220020cb5de3c3c0e6f31526a01918323d64ca6ab611d9748354850c7f3a9bfd3566838e76a914c7b8ea9abe20031e831bfb6b272dc61bc28625eb8763ac67210370b06f7de39f797875f856b65bd0335702eeecd89da5152b613f911e7e7a81817c8201208763a914d121d2b5e94b468755bf4211ed3b6eb4d5f6f9a088527c2103bd7bc3b1e792135ac5b037ba642544d943efa07aa79fd13f28ea1cc7a812559a52ae677503101b06b175ac6851b275685e0200000001564801f75d10fc0d3ebc96546ff55fc0a8222c11d6b3fe1fed139eec78773665050000000001000000015640000000000000220020d5c5a151e77693d1e9dfa22cf95627caf2e07d6ab6302dd43ad6642261e572d7000000005381a6ac452c017023e22a18f5ed62a25fd93aa69a22399468e13222eaa3d46b00e97dfb9628f68d13d8a6ab83baea6486910e8caa1519e68f0291502538cf90091d09cc8ea4aedd4ecec8f3a1125daf3488c41c67783e24f9755f9d2d4de561f2473faf22e3a8f8bb78949a6fd53e79782f99f7174790f225bf89debc64997f7c50020e29cc3a9c3de852ac8fa4d91db21542ce6128856e07a9cbaeb2fcde331502040000000101000101fd1388fe09d5b340fe2de54480d80016448094c8d21e6a4154217520915a3986a202c12b88c1a75d71e01dd0ed033ff4187890461554b5d54904615de7aacadb4fab6a0fc4f1069b5c5018d76578000002002464646433376264342d383933612d343033632d396563342d356330383965373034366333012465353639643533342d303764612d343934352d613634372d3161633764306438636330340102712dd19f3afc7b852f3d1d6d89c3e002b1ec428628f08cfa7d49db9caf4deef5013f00000000000000000000000000000000010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010144bc5b4d741e2299b98674759ea81f53bde096eabb77c2afeb9940f4551fe70401ff0000fffffffffffefd27c0040280c4bc523117bc0fa8dbcc773a861ea98bdeb7412f1c389e4c590b7d9665e04569ebdfc88231b9d794c33bf46e109a80ff878f46661bdb7497923eded70c88654a2b23a951428eea8b6d7a11e6ba0f59e173d056db544c0555a076202ade02d186423c9ea1cd3c17086c71381752a4977c67376298d4f4029fc8faeb2910fbf95457a115ea65afbfbc2385cac7e488726d17b9006026a4123f4f8750286728f338472df150782d9ceafbc3497217e1222852248d0a22f811cbcf2e6fb08d1a4fff7ce47be649e082744fd5a371cb064df1d563b9a5fbab6d38a093de5d51d59c45975320ee02f151adaebfb94cf1f18b9a42e609a7d8132398906317d45aefc231bcf606f2f7acf3cdeae1cd92f93b45c514d28692328c591a375a1e0a9d6c9bfa7b9b5252fb1cab318218ff2f74e3aac621620d1012ecad5be5d3e7fe83995647ac2d824a00bbd175a50095183d2c47850d371b52344721b68b25c8b385e596d46ebf26224b9e1f295f62026176b3a6254287dc99f70a9cc8f9088d17cbeaf6ce5846029581d2a2486fe8227ce1dde0e7bc4e02b73c3ca9e6ee0ae0b783eb9d39675f16797c5be1745cff6df077c3f4ca3cb9b285c6cfdf068607287a24b16e8cb717b3d2e48701a35f3126d4aad2cd52a894272d2c308d1843dee80fb0d0ed39f8da0c1c7eaad94a77f586265db4ea617f6eff9ca3408ab66f56691e214a722a7d6f74d8be9de87f6b38251d6cd95d5e7a0608135336112362030e4cabbe0a36779f713aa6d4896dc844a80b66dcec1741914f92f449098cfa44010a843afeadba3adbf833dec0972f2b272bb1bc6b170a514c432afa41af7ecf2f31d52b56ad397df86c5d73042335ceddccd78bb508ea66a9f701abbc1f7289085c87358c5960a27170aca5773662f5ea572fa2ab37162770f0e404dff7a3e7e913015653c10c8301b46fac15864cf40dc8b61288456870d9221ce552b20e58cddeadb3a1cd6489fdf7b726f8541fc13adfc7a8b49294bc70fd0f90f46b6ec01805d24dd1d57addb9be256603f5e8b19ab624cbdc3bcac784a53a2339864b547be7d554f1eaae6cb48aa9f832b48e230240d234c5de92c5fee2d8b2f27e87e9f15ef22d7deed2124cb40433edab718fe9b13eec70c1235c3455e4dbea337cf234ce6c471e6a13cbd293afe20f0f43232e947c6d35f626c28ac4f3f985f3eb3a763d3ce5ad2c2d56e5d083dc651332f9140ae0f1dd3e1a3c5b132904db5715bdaba8b2c274091d601ab604e6869cb4c20b31223ac7e5473cc1d8da94e5bbb10ec03c9793794586cdf657b274dd4d1f5606837744a419434590a5c419b4d076e3e615280e15715359af752928a818c27e3b36fc3728c0b90b872fc04b64a3a40dbc4a142ec57a3019a3db8cd4bbdb8f2aecf54c7cf635fa029339f4e79db677b823fc3a2522f33829414ca982aa2b209203ae653f2f6ba42a16b70044b2735718a0c9e5018e4c894c5cc816a68b6637e403ac7233884bea0987c40e7dd2687ef91fdf21836018ce3c15e5f8a7272916b747cc26d9a4a8d5e2345d7ea4dbf913d2440e3f640eb1f2d76c611a7daa59e14c78da06c450150233a4da94b889fde218b70a8ae534172d371e50ec9cf6a9de7161e884b2af88e9e77a4b654c8a12ae507663d1faac78154cbf2343266a3423ed4f038994036907fcff5482d7a243d1ae31dc46ab506c9943cb93c7ef520233ad3c4e097e6330ec06b6f9c4705403e4402ca83ed5654e0ddb2c1f7ea69f4e8b168ef74e68724ee29220d68ae0045d706ccde4e66932e50eae480f2aa0c7ad93dafaa2822aa7d4c84194f66c1ed4159efe82e04359a5c875c24b13d3fdd5ddfdba405088040222b0988a92cfde6c41d095037545ee9475798b182d99da1151ad0bf6f2bda03e43748c0e8c81b6affcbde82604b9adea628491f9b45d10b4c9ff906b66e8bfafb549ae9f859bbe99f06133ddb330513e4b8da8218d907f1fa64b6150592c9247395b50297688fd9f92b46d78a871667a93969d5d51668acd1d756632ac31cb5e4f26b55d239fbc553518dfef90364345714119590a5ea040210c5f08e468dea52d6622adf97c768611a4161a72c376edbbfdf73ab1c5471486ee7e165f98e87e6036da0b479fdb2b86fb02b935770e693c39ab193aff9e908ab009966c4a77730801a2eb6ac1caaa8026d36354d8243590764960ad5d2a80c3f3d1bd5054eca0f2c400c77482c68888c60078bb97348368917325a6c89d7ecaeb1f35ce75f0f7207d7e199f56e36b8708e79de2de2bd7da2af2d50e89c7e777df49ce6883ef57c0da080f8ff5fba0fc6018841e74e5fbbb6aa85ca320480a2b6d148f7a9ff83630447d49d01d6d8807921ebcb39e9264d159197272b637f3cdc6cdf5ca9dfca61d2309f8e21b834c0a04c7c6eb7307c1e278dd62f9b3165a4d29f9406c540905d49ac68370bfe313970e5d828a729af41dbd157e71f97b8a225762419f2fb534ee8308b2a2e739cf07fd7e2643490b09019d756587b961d06a3714410aac541a978c847117f5a6a79e0577921f6228aff7740b650ff86e6f868ef91e6c75237ced93f2eb45bde3dbdf78e327e9e8fb29f593e7b0d1cfafa90a5ce5300b72c49b95c4ae07a48c439a8e26fa4862aa70fe419a5259a3ea0fe0e8a71d955cd302d9d25b8ee5b589b53f118f8b650cfdc15df09edd9a0ba10286a62a01e18f8450035e323088aeb519cc5aee65b43a342ac891c0e9d39d6e55605ccffb0e1fcc02ca82d5decd6a3bb9b3162ca302345439481170607a6ed975e49e24e102443d00087869b680c7d40da9ee7ec5d2b9d52906d058854990ae10a9fb9320a7cd1c171b429d0dbecb7b05e89f4e858d3137d3e0d85d35232c3bcfbc81928608bf11a033ac1900419ca2bd01b895aa6a4a0820603f79644cb42d3b2c49189f20fe615101acbaa52cb43b76a8e408967a9f81920c0bc210d27f60a1d013bb4c3ea4c690eefeed2ce1b019cce9a351533cd2e6a8431a5e909b5f7a4dec760aa836be08005727fa69ad36ca2a15e65f91e9f69c74efbd239f2c736a5037b5e53775c81d58bd4108cebcff5e233e10d8f4ca75e14fab61e1585fd56b42f145f8d1e46266ee69a1fc61a4e18186702ac19cff7764b34c83a391643ab068f74cbba256a7b39c2581969d82e59bfa503e76019830fe20308597670cd71137dd1247a18f4fa79b5a06f2f17907ed9e6597d0b7d98a2d1ecef1479399d887e35535a3c83f8e14dc7c56abd6cf16866ab60d4820d544fb1e18d84749347a73ca2eba764e81641c0a83fd8f176fb4287173e0e988dc4a64b21b09d95300ec9d2a81ee5dae9c35f24ab5b0be5f9afaaf2987c721f3e4caecaa965a23b8402ba56c7ddc13b18f32ce6aef8ff0c7eea1b55b4eecaf3b9cb0dc8c879324c488e5a299985a61e616561f8a51687b22b407aec99c00c052441dc32ad6064d9c700a90791ca908fb73f6f4113293d908088006c768b53c32b5ed54572290c299b1add38d2f885d395a2043f35b1792ea4f2a997b07e19c463ad76c0dd9ad461572eaeab32cf2d20890a5f1ac0e28fa261afe36b579b6ccdf996a56e17373511a834fcc64c48c2132334bb7670fa1d5536191d9cf74734278f821b585b5ee36c69c04fd88cf5663cd0233cb140426b4206fc6972e176dc8af86d51ccc4159ecc685902c52f582f725af84891b4ee7d8a05f30e544e044b36907ecc5d997c8c5e6452d05607a06d022925bb9b6e02d69f3dea4a97c8b121a371f328f8fad7f98b4a3929efbb13ddaf07f48bd6cd7655c89438b19d8877e718d6620846b65e7216a99f92ea249bd263e8c3f1cde944b474e65bf539e49f20f89375a8d417fb5def1578405174f9b69bc293dbd9d93cf093bf113bd8f50dfc8d8ba121c5a3b4ceb1bcbd190f8d0e5b04bc65870c1674fa3a65155fc3b524f3de4342902a5d91d8c33fb9ffc0677969b2fd2eecf2499f6fb40088ccaea6ae7c872437e38ed39fef0f6b2d54e666b795abec5c9dd1f761c211976e10e4ba62295bc801e298fad10bd6881f8592da63d68f62e1ed353ba127859be6b6bf1d72e75a40f8e2c0b6cafcf3480398fcc61271d5bb03ac370eaf7219ed598f7b9f0f5eecc01be8b4c32505c511e9f80a1f7da5884af89f046f7403d3a94bffef8b72751da4e30b5af854266bff2ba3882459038733bae80fe8d20b2d3a25bf3c9bbc1e9d2a9033849db3147aff86b0a5c52213a2c1e738484e4eacda508fe58f9c3bc478c8493d41be483ea2e6a99e7083f1f362ad5326ff37817b75bdce06191f76947bee9278485c9ea6fb86213a031c22c4932e301abe20bdad9bdb8780588f51871b6cd6ba9ad219a862c6b57b8e3a8d7e56efbd7dad914209eef9c70843b733b81ae59e8a2b6411b19b8af62c92173cac7decce39fb4cc5827d9194842fa0ac865f737cbd30c8b4e9d8a5d782f317a066aec85a04e5bf7771998b4d1dbe2fac2dd53384908086c0a9b665d18b55892f17c4bbee535521292732bc3469db1280dcbb13b2e4d9430c1c4c9298f679984ee6a0af68bf819439ca5ade2116f338d84908dbb0bbeedefc382056dd23a7b8e91cb91bc613139ae4593ba7aa435fd4f461f788ef50f8fbe793d2d082784daf694b7caa422e29e67372ee1cc70c88517fb29653b675b4befd4551e8ee8f10fa8645b52322e0751296cc507dc247cf5302145dce251709b333582e7a8cb7551e42a88c325afac093265ced134fecaa20142ec9dbe7f54e89b100c46e9e89144409587fb6251c060ea2c1b07da4a80d5cd0fe1e4db694990d936a0d6c8c0b229d5b8e6549d218e39cdfcfda78e87f2f76673f7bba67992da71c25176ec4daef78ef63191f78195d52cb3229dad7f0aaf5d1910c049bca228ace9c55fb07a571b7300982c62e1e00188e00ff6ea97f7082bc1aaf6bff9d3261859579e0bd24373b98decbc19733d474d0c03f26d45d8227fac750633ab7be4c2f8b881c4f324b8e988271cd100b76913937194c24f41f61c1a7e8d27cd3c0df036e50cbc352cb0af816db1cf89595c62284c637d482b9d095aa4d5c4e2194ddfb5c47db729d8c6625500db1cc8093a1c30dc279acaeb82e217462f4ced82ee153af4b434cf8af38524acf61153d92e62f097b1a493c5b4d086e87e7d3f275e298410520f23ce32655c77a781609eed9c25286903713d1479ed379a91a423e2d6b56a4891cf155c17484cfa39da7695f9d449af2c90a25fb2b06948b5bc8ad020edcac8b6cec3cc5b6eba51a87d9ce5f301b0eff126a961a12b84dfa5e994dd5eaf681310b14b33320ee28b94e12877a5b99eff8da9fb9c88a6f86c9743816d2e766ba26967335986bd402dbcd5c077857a8ddca7587eca0a9036efb898240d0b41d9d498f579b842febf24bb875f9e95df507ca03fd8310f22c5f0f3e082c80079b9bef493a587c88e26409d46af9e4b7bee1b4996f669f3b962b12ba29ebbb9bdec9a2b328480d806418e65dceb939dbbb135053e002d26ef0869983442ec2a9dd172b880f40ef383359b6229477df8485dad4ea6c93bc3cad39aec49cbf91e384e1e30d798d08f4f50f1ce22803927d1439b973cc57a6664bf37ba4c7b7dfdcf879fd9d2254195090dcc99286d3af00b37b3aada95275d4994c2885b833c0a0b16e075db4c4d24aa114ac34a6eac6ec2752830d4043078dc95a2d9f37ccef5b67f02732c91c30e606bdc263cec50496c2aed25d63360708180dc037306861e97adda088a86638e36529e47e6ee595be71c50d09f8376623d63711cdce2e96e665be78856c0740c1c2f4b1dd6ba51b969877edfef977fe8835ccf96a360ae124ad5f1c2ce6b785f4a0ee3d127b5337cf49a579ea965a88ce38626d7848a1e0cbde3faf11221834239d21305449caa0085adf151e4aeb848b7f4f83fc3b0c6ec9687db5200f3965765b905887f7e6e6eca7306f3362a3506eb25b47f3484124e50d77b89e014ecb4cd791b3af822c57e70b1cb481956261b7ff30460c2d834fe1600d463ef46192dc6ad9e2d62dfa60e934b8d5d116154f3cb609276e8e0ebf24eb772bb0b5f7b9899c8555ef339691d46cac89493ed0d9c14bb5463fc034cd3f1d89446ab823d0d4c6abdb8413b4b7dc8f80d66b56183a30aa704e79d1a6d5df1fe3b1cf04f6f29dd57936a226a50ab15bd599eb4d64c26708f6cb5390e999ab959b4ceb606730c6a235adb15ac3389e9a198fe3ce5ef36d4bda57aa6268e6bf9b74ba83d02e750dc7d13fec27c86c1582bd5f3cdc6fd73bf78dec71b31b30a5ebdbd29a21c6b88982d321a68c116af3004ed48be80242383c7818524dbd4a9b81c0a174dce900c1ee158b63abb4b2e048e33ea61f400af286985c52aeb3e36a72a27fb1b256d268b0d7e278c8598862dc15d05bcca682c1d61b986ac4cda488e71c7337a92bdacc1bcf00030154ac42cad8312ca30e99c6ae1c0649171a1c1fd7a4f962603597f13b0f6290d254b4643ce17551ffb3d4426d360a3bcbafd936ff6b8c324ba9f4a01d5c59efd61aae1a521d13fb5756af01f2373679d6d50e67458eeae5e12e4cc8f81656f01db6294fbb01066ca0be250391b56ebddaa569b6fad1fd43c11cd53d494fdaf91616752a0d030919c7f166674cd4dc6f73a49243650e14499e591c4ca96b8a8f445435e2032f1f7cdf0096de37ea194b4b7645e560efa0cb1c7bdb3a305e3325693889503a63c6e6cedecd032e589fe0e7721c3d0ffb725cc6d6c23ae3cb0ca97ab6538236ce77f0ef11a49634cc23ea634716d0fb39f830938c5f9f57a03e90e1ad47a7e8ac2ad7d00100b746929625e52328393bf9c5f52321632ae2b6fd3163159ee1da2b4e939e5f08cfd78781369bf1691252ed777b465ab6c9079920f6967dc661559341f68882fc5ff81b5a7e7a5398ed401be65a07b31bba71e22aaade4b2f86f18b7acb34df19a1479eec1a484518aa5fbf769c17b6a3599ec9214a1a34c732cf928af31873e1ee3e930e3af8c05fa086e5a27361322b1f547c2ccf033cecfe6b0130d992c487680fa6f476661e25445a3934aff4dd0423d5f4c4e0cc308a726aba05f7580fd612b6d84c7adba5456285bd4be53ca0ed9cab9cb56e3151799d258d877872a3335415d135b9e894af0128e1092657b9864867ec37aef11c9e07a9aa9876d2f7face519a60e6059dd06c3f320c88b16150fb1bda6d65b0f47460c6d4265e0585dd7c94892d510a60c6cbd6abf9d8c28e91846bc913315a688c4f25a84cd99a96511bfda98be198b6fbf98d7445c297660256625fcb2a57658d74fdd74e2eddf57af8704bc1df7187c3951a513fe8ff1c2bd4687f6a954b7e9034033b37787e37094afa0c44303c58cc730cd6b1ade7b70c16b80ef2bf1e91a591073205c675a9d17b7c0310e563a3cbdc519eac2b8da519de386c83d739e667f40fb09ab288ef43a83d06cdbbe057a8ed7806f171762a6f17c633b723bd87b2d6a2baa71b7a63014cc3b114906a15199a6a95ee9562d94eb59134459e23974e59cf758cb28c7e19d9b6fff9fb6c1817998b09abb5606e055454671a842c8dc385008c5966aa60dc5000c53d7f41b6f432690d1d868573fc02329f6b478f10e9fffa6a06abf758c0709e60cfe28ef2acf97043a2acea8029d9daa48aeb1a89164274b92663be6e1655ed74ed43511093b4414617999944ff750be7594239148bda4cac936290d118b2cbdbe6b9bdcde77c280dfdf0dedf86ce12c2f90355270b8867bba8844cab26107bcee99694c8834244c0c8084a01cbb6bbd9ac0281216f3dec42e1914d0ec036c55db13aba59e241f4287129eae2f3a796cc2791b57ee57f2a4e433f59ab7f0a20c35f726b6b24fd59f1892daf7a50688d320a1d0b3688777ae529b87e94474e7852b18988c313ef96fccdb7f24970cd8e898e569b665e99e6aae51745e10e55c033c5d505e4ba41d1fc258e1d36ec89768ce2c95d55fff9b774a28e7b63434a5c1b1a6e6f7cfbabf4e2f64e41d91e53c6606c7750491b71c9ab40d385df37a96feb0e0ba1529411e270c83f7878fa96c6ce79ab500eb2e5ca6ee84f7cd2e71b16198a3ba3eeb43c8e89ac60ac5615a2ff44a67408d383f1d6f53be9ba86b2229659294bfd99014097ff8d4c215045a18225c71873c9f8d386f97731a8848fa0816d74e67c299ae5361d3e62234af992b41688adbdec1698b65c8168eb315990da33bc1fe84b08c1a8f852260f4b9859fc1f7b305c1f99f158721075525fa7f0721f3f5c8b5aed34d339bfc7fe36ecf3dd65a9fcabac7b65a078682d2571760da7afa18d144e45f1564528935190ac08d9f933d7de045f893897e2962592d9f87e2ea0538ec96888ce5140191265f88063edbf186189747e74a6e30161f08d028326f0be29ac62d771d9241ebff9c63263a0c5421ef6d54b88efe9e0066128cfd9efe0575f339ea69f064c5da1d922e7fba8c1bbf029cfd19d5058aeaadb580e024f3dddf597346eca92d9fe5778ce41302287adf8ce2cda357809d2e7e612d4e4ccce0ba7f778a16cdbf2c3c6cbe98e2abf0f1027bd983442a957ddcbdffcde7044ae872834a8ef4522578bcad20c0f610f99e5153ce6f50f76b03da46e8badcab195a71be260f3f6325e3fe557b49121e596f269ff92a7d8cde9234a68c34f3f1521c9a948425c87b6c9089267fbcbeb7dbe0e0784653af74b8cc2dead5cc683422e4c03411169d25cb9d29d359d5326b1695f3b86b69a9cd6900ee2f91f98a718806e637d031865acac09c39551a0c8e0778665505e46dde3209ddfa7a66d552255bef42b1cd3e2bd7d055704d44678bcb98cf1721b607483b7618d83da557ac42ac860fa617804d547df45ea1852e282523b631d6370f5a73db2405cdc434d63ca7a0a4b857b702621cfc37b5698a245c314cc203cf7251ef84fc594e397f9c30dfd578482e4fe74a08aa0243dd7867c2d85ab4a895c4dafc629b616fc99ab51c6452a43f798a37d3a152f9586527cd6b86bc861e9c77f9fef6a4388e0c012a15933de57bf38d613c623a485249fcb43d466b2669951b47deb1f9640e291fba179a01e081840baa9609b5153dc438b96f87635aea6d5898a640fa2d7a99fb579a858409533d9cc4f3cca2635a9e44a63e9ab88119c6a2ad2232b9ea571e57631e5987412c5f14c18151ff8d4ba98c0a8348c1a76a228de5e7ed016460ef82cf470a351c66b3609f1b77b75c258ab4a65026a4ed1c5a3a1eb21a7834e1565224dc5f11857e0608e433135e7f57c5b64313714154eeae87342f8502d34bb09f295cb37ddca6e19e7ba26d605b30a4465a5b27797818320a9d0c1f821bf6ec7b07568aaf26486cf1425ec32fed928b10ab6913568942b6e41a11c2be5a1cdf1a9effa50a5ca17bc74ec6e356ce9f933303b4a1c38fe34552cbc03cd75cbb4cb71ded491423ef92599dcf00bd3cca89d2bb8de73e2e418878d797f0bd54ace8fc81a4527587421d7d1c336f96d646883e290ca384d20c832728eb8958df7db2c95c1c596d69b1e11615a5117be102ec993995cad0db5481073cd55432c6c5b3142b033ef9fb9052c25a30203f95c490aa382ca7c26e499cafb32ec78c49aa643d0623516b7d6d2c43f9646fb6d6f8a0e771e5db270cd8b24985fdd97281509a9b247a967c920cbd0ab142e61e8f827af5829b323431c8d82ec39ad9a8b4a61055c1a911812d7af2a7327effaea73bbffb939e4ae78df2fd5f8eb07350e0f65c6d3e012d6d8f0ab17318f7304040a3e303d83a3c28961323f2d5f669975a738d988c5c948840751bf66c62d01f8b2f79050991c2ebf46724bf0a12e1059e58ed129e6235678ff62d88236ce6be8589cb530e3fc58b35d9156d061511bf866988737a4b270c8706ca2a9f6c65719f1f967f354634c6998cb40c7cc45b9243ca74041e22152bf5e435ab2bb760a38b0634681ff8bd1d817378635a111bd30c576b0b708d0da10db1e1623987de0193e9df7f157b804b1e7df3209f3fe984cd799ecf82847f2a6adeb76beab58fbdab043aa53145ca77b7253a3fdd01fe49c2d82fbdde2a5acff245b168eecdbdc6dc0be639556620948020755f77a8c76b88740871cbb711ea4dba9dc2c4b8d2264c7067c2ff452477ad6a8ec2821f7cdc40ee259c74024c4d1adbbe705c317ca8418908d7e3101905719cd2b1e45578e94a7f455a7c8071b2fd03a75dbff6b2a428671b4e2c0dc69d98479e192e22148238c67f0c5ed53fbd89770a55fb9e66fdead21fe9920c029e573dc12a5c455126d3eced22f88cde0c53ef7571140e46acca341235fcc356d95625b7b175f3a7ef558b496724c2c02d067b3e1ff2ff18cfba15b87752b0cdb7e9d3be32592162c9e9d2d289a576a5804cd4f3d723d80b95d28c53ead518f0dbd485c8598251bbc653805a9727c43863c3844537249e70806f635e5fa065f25f54a1921d9cbd04a2e6eb101128a81665d3caa811af66af1a90e1428d33ce62984f86f9c4bf741e44e2cd19b4d4dddfcc3ffbf0a9ea79b7b9af77badea1c50f88ab6b2e50df3ab6ec1f6ae0f9f1b037b939ffdaab4ddb7850ffbe2705dea1c320c3175c2cf2c8cc12d36341a4f78a377a3c862308c4ffcf133385adc279da6603df83e839b8baa4fbb9aa38c012787859427046d1ea2bf5da3a7ab19c8295ea0a0cb7f4351f6fcdd4fd0bccf0e93bbd7c3999293cd2e5a3f16a516690ec09e9da2f5da9e562448217b8c369c9ae4ef8fbb20ecb62971aa10a2b05976d1469d9879e2597746b012df197f927e23801929d22d54a32218c4ba3dd02badf90c07fc78feefc4e299533fb6b6ddbe7d4cafb0841b3d478a8d3b60ae7a287bf79dc1e9dc02244844c8a2cddd7c227fd8d6bdca01ba50b259e915674f030964395b7420c99a4a9d96f67933c7d87da1dc2d37cb3af1889f148c495172e2bbbf446cb6b25e67371db616e69f8624f5e019901177e07fb30e2f0fad8857d7a68f53a52cc69538a3eb5fd3d9d8e8693887ef4731c6d722ed9a220b86262d17213a272e162287fa32a78e4fd4f53afb4eff192c3ba43b728033d7e7906f3954a093a18ca31635ff548d89c7d6549c2484ea4096675f016c122346cec34341bd80f400665b7ec56fe64b02379ae4f4aa3bb4487beaae4b0628e836bdce05d63f867212568ccb5b54a22643bffcf83cfb0f5ce0fd0308ad40c823eec1eedb52b0c501c9c682593cc5bad971e34918b1ef5bfc07fbfb21442f4848313be49047d853181c412eb0fef7f37d1d29c6c7f73e485d64539799d1a08e1360454b57e3a935a431bbf1826cc00cfd5e3869b7dde0e98ef4173a2e1952f8b59674fa2d23bb1e0bd49d96c56d657ae1e13764d02e08d59973e3801f47db310a0c8e30895dfdf0092a211275f6614ab060b5d90240741bbc1e8505d73c07670875a5068fbd2aa8f7f42519e605894bfb8fb8bdeedba4f14b308219cf568884d913ba470680798b3235af0f19cf0038edad0604b8153a6e9b6159133b4711d39d41fd5bcb47d86166a7718f5f5a37cca75e97ac127fceb39627cd4803bdda23314215eb4ad55ae6bd20845b04ea5dd3547fcfb985d7a560b33ff68c9b9051be8832d29dbe9bfb9fd6242d8b69e68f644a4030af3b7ea69f9af7bbde858722fe65dcbed9885bda0fe18638575fced02d4072c6026adead36f6b71dd3a68369ec1605798ff3e413adde00291569c7ae319f634c9a9c023ea7aedc74e3f88354b44b1975fb09285b58222a40f92725828415d0ccf42e4f5f64bbaf79ea0e828cd2cb94556e4bb64798866c6da6b6359737804593f374ea1def8b839bddad7fbe1b0dd111a5b9bfd36eea222321b08d7c112aafbf145fdb35448318ffb3d7cc6546b70319e9ff7ea4b7fb0273598b8587e9f488a801c6f0b7633d5e4c1fa23ff951c359516eeec572a049546d120b3af336830d5891fa3b1cf90a6b9d5a40f483781aae73395394cca900b9e2fe6860acc24168a3dd7b6825bd22558f632bac19b6f6605542ffc04d01dc1d3dfa9632decaeb73baca16ce6a569df8ceaf5f0a1c666417e96e2894117802de7ca4e2f45f269b3161b5851ade8e1022c1372a16d23ebf81081fa8b6dac83590279222ed685acd8151233c64555d0c6ed87c9c4710998c96d06e5ea9b85172616b884076b37a67cb1593f9f758343889a8296acac5417694c2641ba13c0a672c77042e8a62bb1fe904f80c47e617d11bcbf72ce4d2f46d9b59d317c86a8ced95f473212f1696b7b83e3b153652a0388ed20e5b3f94c21b31c4c976bc911c0a15a406ab6ed9c00a2dc544042ee63c77f52f0d5bfeb7b9409c80eac183282820ff4d5c2bc45a54372799cce14c72a3f7fe28037608fd211e1e0b7ab6fc67cdd552285aeb13d8ea5467ed472c33d1a51428871d67f5a52585ed9095d879438ee8648f1c890553169d7960d3ec0f081807ee030d36866eb9db7ee598edc8c8823683b694258e40de0aaadcc34f5ce29af284ff01723370052ac337ae6d7dc8bf89b8e481a82bf68affb0ae6ca3792e1ab27b356885ea8121d14526da0461e12a323dc4feee9db6b7b92a57c5ee077a1830eb102b0306fb7ca7566f230fc450d8323bbefaa904507b6a6952611f18db6e965491f7615c77afbc4e664df4d8960406ecc42fc15c69088f4878ecb0615f95ae25f9c1e8b4795b1383422be464804dffb5ad285d3c12ebca97235b66c1bdecc71ca68c603b9b667e17606d075c3ac534e159ecc2a0a57c04528f1e3a017ccd03475af48ffc9f9f923d2711afa0b866c45cb3a0ce61856195a2bc1780be45691b4f70a21d9422dc57ad3f6ce73f2cab2299e3c906bc01527d920e942a255795903274bddb61bb094d3020020ad6cceaf4c13688002901b1260e9af07afdaf3e38dd962f196ac279b166515b6575c585be17f4bb3fe25891a882436aa5d627231c72266aa9ee88e0b618dfde3002450bb1cf7bb0087e104ba64fcc1c771aba7a07b64db9d2c11e283b22303dd5193e7e85f9b6b2b6b0c06810e1116eaf1294b6aad5f4c16972de6f167c63eda0cf250b7c468d0175bdd5e4ad3453732f20258731f3601f621759949df0c764212f30bc7b094d6e94db35166aa61a21242aa2a1f3fc162588f96463de3b0e601d468058c60f87054e38eb9e6f39becd0bbbdb1f4f9563d97d731eb2bfb276fb86f8c45ad64c44e16be495a6f89a256016f10df9c64412b6e3caa68a96f6a96fcb1ab037aa57608922bfa3b81e880fb28029f86838e3d6f3de6c990e2cc722f22526469376fd5a3ac6b1782185af31870eb64cbf3845a20ac5f3597461504d240d9af7116cbd05ea7e22a09335ec9251068ac80a721f913ff6f62456934e5be723c61e3b16040c269443c20f6056db689ccb01c4c06e1a437bbf053fb0e1320ec9c5d663c73411232563d9a829923734e4e6d9bea30eb780421681493ea9a72bb40625cf4a11d08e3f88dd990c346146b12ecf4bdbedadc48728bee4822ed35127ff2b627fc03030776af0482e8247367df46e290c16bd0f77e6d88dfa45a8e6f77fd0d6128101cf169cf62ee321a80f0ff72cbae05fae3ad3d1698fdd35cb5a852eafa664c97b668766cf16f3a067bed41d5b141d4fc8ffc2f32bbce98f1f11148b61111c2f488b53a24313e008455f51222fc5b9d28f18606387904fa2ac4850e82e6e2576183aef5b566f76b85140aee90a562595bd764503ebdc4f3a873badafcf8e7bac41ed0f1e499ac29c0607ac5e3721cc253e26f1fdd0c4ca7f7300e65b914c939fc576e5ae58ea83c7d30dc2986b3065782659126b02f3e56ec0fc27f43dc9a3d7b01a9df81afd4d8c45a55e95397fd118f19642d4a5b14aed8efb4c9d86f8dd141a70ef1bc7a59487b9c2170cbf5c7fc266ae2c75ba862d7ca57dc34fc8f2aa5b115fc4893f761d32e1785b9dcd7b698b3ab627b69343c29f71ad5826283ca4a32bbcd6e14547c0ade38ea22f84a70f5898ae2311e86b9cc0bc8edabb0e73006295d218d1b165c63391b659f4560b1a97d7d7f2b38a426448df0f155ca628970c2ba3fce926e7a4ee535e90991a88a8fe97586c40564a9fd8eb197f43c61b25020315099cfadf44f1889ce8dea13db1e5a35517e049e9a9a9784f2610da72405098c99de3c5da1544e6f2d92a624f548f331fa60a19e0e83b0880f1654569fb2c2593a52d2496547e7fd4556bd3721eadabb998556319997792cad12c5ce573396add4a095f8997f53553a0c03b9ad4162f0ebdfc4a91417f031bf2c7e1de09621f336c49bb17dc0a4fd16fb634ce2a8b1f0c6d9ddff00002a00000000008a010211df97adaded62e819c2f7e295f647e8d8ca808dadb6a3b76cc29d00856232f3420b1c96cdcfbd30c2775434a2474a054eab2bff0d42fff88e35445d99202ece06226e46111a0b59caaf126043eb5bbf28c34f3a5e332a1fc7b2b73cf188910f00002a000000000065805e470101009000000000000003e8000000640000000a000000003b9aca000000000001c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4101ffffffffffffff3b9600010124e518fbfcedefdf243f55a8dfd74720db1151aa67d2e20eff6769b88e090b8dfe000000002b40420f00000000002200203c6449397ab890ddb2c688ba0f997711958f86348171c384cdf6de73262964d347522102f09665e2eeca7660da13f8da413103422dcc969353cc879117a19cb8015b6b3f21032416cc1fe1b31abaa3e22a41d5c54e1983effa7bc938d125ebd2c76e76fb5ff952ae0002f09665e2eeca7660da13f8da413103422dcc969353cc879117a19cb8015b6b3f03e668793b9c4635c532f3e2e2819c9166e181ea47e25aa7aea0934bc424cb3d0c011fa0860100000000001600146562e6ed88a3a31c2e18b88ddedf4f0c1680cfe8fe00061a80fd044cfd00fd010101010224e518fbfcedefdf243f55a8dfd74720db1151aa67d2e20eff6769b88e090b8dfe00000000fefffffffdfe2de54480fe09d5b340020622002023e496feeaf508bb034b35a7e0e128c117b14803364e4fa9eab8a82f6a91cd41fe2ae60670fe09d5b340fe03dfd2400102007d0200000001660488daddb90acdd259e69256ca64c1c1db9d8b9a80c03ebd6ae13b6b818aba0200000000000000000250c3000000000000220020778f86e213a518e8336ec940874ccf4b92910332f5b3c0265374a86dbd34e6a596000000000000001600147a895d5a23eb91b234159b07f459d77e93c459540000000000fefffffffd03d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc49190256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdfd654000010204fe000186a01600146562e6ed88a3a31c2e18b88ddedf4f0c1680cfe800fe00061a80cc0047c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee41298f74ea20dfd9553593a0552e2f49865f68fd90ff42a62a22eae9968954a13b0000fd02594066d92888217cdf1ce9eb3bd4478bf61738b4fce7c4ef28f857e293b3ac470dac3355955a31a42f913a7d3af01f621053224e37cc2600cc3a001caa648343fe90fd025b40dcb7c004e1fcc7767796adbddda8eb9c3aa9f1b1480c16735e66eea225a9872c4c2ec9105f94c0876ce3015711e9a378da419205de6223ca3fc957d09045e6f900020401fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000000000000000e4e1c0fce4d408665c5cd9eac99ce7babb852909bdbbfab979d981d95fa274af872c8200061b1000029a8bab32cfd069273baf8a1bfc003d975249c1797cf1d1f41ff75d17dc778623721f87c8fe614e47f3b432a325d8879389bd672c368bdf045b5f33527ea7ad5aae4ec7736bad1eefd197b234bc0268689ce2399ae3e8b19330491228efca2f62ce2d75d6f14117171ffb89cc19aefee4747dae2d943b061ec2b80f726a3de455c3f9c88f3291911dfd8f792c8cba419f6062b0031680cb6d73d5b18338311be0a26bae61ee4a73a89287deb7a2da9db0e2247bbdb3b064d1277566cb5838cf1888a8cb21950624b94891fdf592aa9bcad7ce1bd3680dab343bcd023543a34c634ff4ef85ed6177e8ab68296313530bcfc0d82a090a7651649fb08ab02df9b5b03b8787d3b667d0172f938f50352b3e9fea859c623be7a7a881ae34b6eefac2fc9d6fa0b85e707fb5c66816d32c6abb49a3ad15f8e0827b84f4b19e1f5a44178e442a415d0cf8a012e9e76296df8cfea71807aaad372991257ad52fa350ce272c27e25afcb6bc914f6926a5fbb8051e2f7e94735e00d8e781d51be4907f190fdce6570e4597169119a48eaa5660ba8207c40328a8ced33f8f381cdca7cd98ebe9fc38adbc734520e9075153e42c8802fa9f25d11fd5cde6fc194dc57fba5d391e4e85aeaab58a5a8e18396601c806d070b419cfa8e622776f4a81604cd7eadc9569b14d66767986d6836c10b6ddd04df141938431e423bb96f33bc5cf6d9ec496903f88b030216a01d07f7ea9a5bef992e6253b8a85b16419c4591694c45156bc67d8db0159ba0850d74f137061b9c917c5d3a45927be102a3934070292059c3d049954546b729bc9da4102c4e48157a9095f2567a06a4da5b15751ae492118f49312e9fba0dbc4170597a5da0e17da41320d99b385731c89bb1264b351f1355da52c39c59449a429bfe3ab7623b883bd3ea8fc01992f8874fce447ceff85120579919835660dc38d81388997ce3c7a99caebb32148e5a234ec21a994bcbd9c53f83bf8a78146069ef724e63201e25e9a357a3411eba4e03d09fe498ed23161028304036ec418fdbaf991afd5bc947e7957168574d5587c7e3b024f8f14b08ef7f07fcb287383a7def2e357a5d1cee69e2c691cd8105c54edaf746987e21ed529cc86f48ade1ff95c9d652549e2d1294c31342de7f815bf4fc0b6318ddf41d68f53c171bd0759b672466be594f316f3354e046be1dc0782e08c9f59eeb41a654a7122291c93cdf53f0dbbce659f3050edef293229818f54e36dad64ae5b297337254f456834d2338d1bb8e73f6bd2b1108e34e622514e9cf86227683a8a24bb1d3854dea043ff5ee770eef0ef300e34b994d6939fe6581d0b5c2f47d52482451e78024d092630796ad29411f379ec2a22efd7cc70ee9397d89f09b2b42d0371ddff55a85df1da314050c26e44c1617e7651ecfdd3ff5a79a3285aed565691119fae1802a75f156f21c9c7026ad75d60aa021fffa4fd5e60b86146fff244e8f1db52ab5c97d157d528d5a29ac3ba4dbddbf976a83caf7c2a9fbd3fe3869dc4a1ac9b641ab58ebd0e4b6ad97fddaf36e730d37713010679e594a13b2d56a028509bf85967e04f254258ba7be8c789db448cf65802755527b33efd2cbe310f972df46e7c425e99442faef2e7cd9134d0e05dfa3b83f18228cfbb0daa43dcd08ae572b497f403298871f679b235c16862d144a81336fb5e99d1037064f901c3235f03823b9ca44685669c3dd969dabcee9a50f36161c4772b17f7dd32ebe0e095433b46aa41a12014c602fd014176c4399521e4ef16f0cd58976ddc504eec915fa13fcfe366d203afbd5e1a63eb3c9f05ac9bb31542fd8a174a27d1237226d554df928ddde9a53849f0361b5d667e5bc4a063ac12bb7c29e4022be347c919626a23465368af050e9061af56f784962ae9bcb3d902b01401fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000010000000000e4e1c085748b11066ba78c7a4783329c29fafda6a601e9a52fdf6da215c053494c09c900061b1000030aa45d94b0c31aa64ba3bb2578325dd1a14262334ecf1685f9bbefa73e7e521961719f11427cde91873bad602f7f47bd3b5f1e5c853db889695f7136f2f98e19aa3aeda6c06b2858a3a2cf634768015c113e8ec16fc75a4e95a95fd9425ea134729c355a37fd7878467225bd1a6585f23edbab470ad8846aa820e36c3e28aff2ba86ef4d814373bee10cc51a5d5aac8b576e6dd34472d1d7397341bf6972fce46e1cc49e656a5f667f4c30fd0ffc0444366be23fab79135f7bf47b449f0aa77bc7669af5307f1c890fd047282f74c5f15aaadea00d2288ed30d1ccbeb93c946aacc0ff186414603ac0b9cf943e533c10bbc2c1ca8376c8ad1dd2af606e9ada581c7aef350b8b5332227b32b4b5e285443770c2ebbf4690ce908e76e6bc701c1744300aa148275ca197816c36cbfe483b4f67870d9ffdd63a97c2a49fee181ff9397d74a94235facb2d005b8af3377fc38a1b4be655b10e2daf89b468398e1a91ff021ddfd3d23855bad28b440b237a9c647dd70bc270167ae39ef9d9ac2ddfac13de12d919be6d43970d6ecaab2345e09f918a6f12a93e3887ec087f310de610aa1ed3430677b2de0eea41fd9bde0dde551025476d5c5563df74ea40090d72c00c8170f5138d62c6176637b3ac298e0896bc32512f5fb2d560fd54189273f23155b2092f68ec2e67a08b80c397736c6d7c179842cff7f00d0780e7c078b17021b1f7a570d0123fee296559607960b353cbfe72c502602614fe020206cb6a99269cde4b60f58225ee04e289eaa435279a49759402dddc767ffdede72a38b71c077f6e5154ee1a5fab12171ef4dcc7aac8ced38260e217d48aeabf06ae719d2c8b0a4fcfa4d982f4da6142e3f643000ac8a5d5ae553c36022ed7b89988d65d389e80676142111798b13ed1a8a7f9e097cbb5c36e6b2d3b35dcb0e2007ecb870c2137ea3c7f27e7a6aec807bd1056fc26b901bc54da7a593ebdde261340fe18bf3fbf6601dd032d40cc57122de5318c45ea3470290c710fa77162eeb6c29b4b136fb6a88cdc2fc3deec720a8bd4324cdf4b73c90b62a3883ed1ff0a105860e012fdb00a5853bf4227b105855a0131d9a334d7b88dacbc9f92675a39bb1793dcd22d41c9037345fb71e3548adf118025cbdcaf7cbfdcdeb80d9cdf4424f37475b1b51cce27780f857730d22f38768d44b9905416cad1c0056a03366bd2f8363e72fd56c4d02bee5c256daa9f68d1e63aa500bfd2583706ffdcc6bb95b5649d630bba92f2b3651eda32177b009389dae7334c6f3ad67299fab21bae4f1a7a2aab9a1c6d7f38fc230944005dd6819b621404af8ad74b080a4948b7fc272f65035e688f6ce04c498393415feeaa2c1801d11b126bf1e8315eb7f65457b731da70515fa52790580b547cbd3f27048b29ad5adc2b6a7610a473113aa4625776928fcd5a4dfa7134b4c6c3fb8dd2c72d412d272592ed1bb4909e1fc149ae88ad9eb038b0bb9077de52b41a31f7b3f42f3651f31c96f11ce307071973461139c9536c619fe30c6026dc9e78a28b31d3e39fc370304f8f077024b3eb3d8085641c256bda6f7f8b01dce9ec8898a77a526d5a6faff4c55a6b592560474d8e26406f8c8077dfd41b00b58c42295521dfba5d54ebdbe76a868946f9a2c10516161613eb618aa427502f80c6bcec6138c1f32806a849000ef09bd4967781762ecb3fee037a82f0103777a86c374891ab923a0c6de2d1c0400247eff31abb781e19ee270a47d471ca810cb68db4fe2a35d16bda49c67f6f5bc684bd997ef9f76142a341cecb025f497750c430d71a1e31232689025a8b445d689089811ea6405704ff71b2ef39a1ed570d0bf380132d32a1ea961f51e421f592279f1506912c838dbcf126ce3d1582e32c70fe932df599eab3b2bfedad100ca874de1300fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000000000000001312d005381a6ac452c017023e22a18f5ed62a25fd93aa69a22399468e13222eaa3d46b00061b1000033a7ec4227c55fb74e3f439ac42fc25dbc44c3ad1ac517799fe573c3ba00f5c55639abcbf5faf18cf8065550c6502770190c12dc467b10870e4bb490dfa0042db551a5f228affb013c8d4663623b0584d07d39e553591fa6edecf12e89d5a18c1f633bfac3aa31e1ea1ff324ddcb39e22449ab3c340f2c059c30223d47a82ad7e64fbc6bfc64dbccc3b991e555b3aabbd279489b3f8b6fe0e01792d523678b6a0f60ffeae359b593f7e1e4a5c768e9fcdabc423cb19e5e15be2ffdb9353ac19602e5dc94465d372abc0495c645b1823b1e84dbb3023f9d6cb8470d98d5845f501d804bac7ab6735e6ad1efa3ba05069ad8aa59ce7b53c46361639220a40ee40ac523d1e520bec94918fb25571a3d20083af06431ffe50fe9f2949714b125151bbc44dd5d8e1ca415eecfcd1530ef94d5a1c39f2f8dfb1b4b6a3cdb0804c2bea088e522cfb10378b637662afd1bffd17498c7dc8a7fb8d4ab97960d61e7ed5c3cfc5df77efc6cbf3c74b2438fb3e81ec2a779183fad1487ca527221941c1f59a3029efe088d1f37e7b03ab10a3336faee43c71d4a7f2b952271ac0b9709e4c87050c082ea961cc5c141d9455918f60aff12d2be1c51cad5e00ccfd4552baf41220a46ea93cdef5a77af9ca9a248cec71ac16f726ee4a5961533bed5837f24e87e1cd871b32ae6812b945594471a1533fa1c9345975a9c0ee94a39466fc7b7b9ef3822a3f0bedffbd5c8b01b428ff266afd28167b9d261d23dd398ecd4e32704ae7ea71a002c8514261b8e7fbcc6a1d2d66e140a468f5e4967edd85b741654279c0a5957524a8824b29469ba9f1cd72686a3e57fe08f894c7144bd513948e13538fba50234926364ce4c2360c88b6064e5680df71aedf695066e4cb5ccb2d5f0024b40b737d9b8b1f3e0f84c0fb693b4d1341c1780bc65802de7a81c4080fe3edadabc3627a255edd405098041389112f6a38202241204dd6f2d949c7f05d0f4d71d1b45e0d63f5ab6e57f4e8e85480b6b249d90dde207f332298f1a0fb9be0577b48bcaf5c2c8c413601037252005d6bf809363f192d6d6e9f976dae6ff1a836e985dc6c9b36a23de343e41c1f6415bbb3d9e321457cb7cebc687940db24e28e95b207bd2f6b47c815e6eabc11f4d75f81ab3d66fd20e1900607166d5b9f3f7ea697b1409a48f2d14aa1bcb6e8e73cc30e895edbabbc3ae9294a10f14c8d20cb4adbbe4dbb65cc41896f9582f3bfaf09c05c996e86892c24dac3ffe6ee7abfc5a60d81e249e534e065e61300f9088d6706f694c6f182516afc1b798f264c2831f434b25980b2ca445b356077478eabd275431ec974dabf203f274f7ca40a1eee8beaffefef469b9ab2377904375bdcf0cd8ce7117a835784e4f70cc048f04c62a4cb9fcb058597022b7523ff66abc1f93c140289fb758e7f2bee700e3f115ee503e76be983c5a8dd3e7f5c5e6029ee14af2b940851287ba5104994206c888a5e5f4dbca06127dea382cd0e368da52b924c967f5dd10b7021628292e34105d191a8aeb1e246be83685f553cb858c87f69f66f704c7ce0ffd1adbb610b2fdd562f26d86ffb333573e8b9a5a34d0998153f7c8d8426f9fb215c97e75530eab3ae0189d5930ae58a86b98a6cf59612fd09cb58ad4d1bd415cc041f8a1ecb5b8eab711700b3f2f7b63b57545efcc3bc2abf6224e6ce725926679daf1de033471f5a38d7e1ce9ad0349cd486102c1384956a469d83cc740e3ee1fddcbb9315e4b3a8489bc29168a1a823c1dd8bd0086d6eab123e0165c7d13d121158badb991c2401bde86d30233d275946acab7b0645f91e13676a32ee047b41ab51e9581d5ec9e61079c2292dbaf6ebb827b5d9955329b1251db24b9e3d78a02ef71b3c0595372ff50bc7c89cca6c93f78f07c3b285dca3d18ef671c11d00fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000010000000000e4e1c0963c4f67ddbf9158cf994c9b800bca63e3850f605bc85fb20901bc321fea49f100061b100002d3be755d19eb3f22830ed19c131bdded376e979d5d5caf48590ce4dd49ca28156027dc02b5ea32642693dff80fabd9bedfd1d30fb63cb956af2faae4482ddcb7a566f3efb99ceb035bdf6486629c5394e9ef47d4f522cc5ffb26d34a3d8bed1b9a1e15fdce639b4ea4b04dadb725000400d1c7cbb731a896e1bb11374ccfd7eeb67ada369e7796072ea24cdd27d343574409eca54527f9362f64ef9f9048a17a575eb292a5f56953f51e1a982af8b7855bbdaac0c9c2c05cb51a8e761d91af07a5083da19b9c1b270679649270f09b79971200344783f71c9c69744679fe44472148163ee09933f2a98f39a695a1e005282143c78cee3b59348d74c679a7cdf423106d24d9fc8468388591d0dba05a2e17cfdd1a0e59025feed98597794ebde5114ea049f3791591815d7dbe45844dcc47d1ed84df345558a55dc63b4927eaac22700f0900db5ee173c1e33d12f04891bb6f2e8efdbecdd8e0027f09e57570458ae13dc7af76bb7bacfff1ba21c6a079132df3b5c174ff324aa6c8798677d8eb3695975141cbf666fedf7689f624b0c64ebf0c8cb240b1a6426af1be3d5fa490b59845a405b2f8857093200deca6363ddfb0de045d2e78d66972640175a71efb88d7a099c20c4170b6bede458422b7232c069ac55ec6cda7eba9967de4ded2d3aa34732bd3fca4881fcfc160dbfdc87cd3ee205eb947286ff869387ff28ddaf96ab9d5a5f4133fe54b40b5f474a1f3d8f0ff7c38a19aeeacc31f7a6fa881d9bc86c150e768c61c6edc0a9e44fdab89245a8396263841335d4b9bfc9a0742f588dcfa2caad92d628157bb8b00afcb7c58c98ef0021742134e54d76b45d562f7b491f52db40327c47291e9b95c621368cc0ab4b8f4900ba33a2c6e7a6bc550bedc38003392be68ca6d00a8f2e67d2257c93c17728420e748f5994597d3a3fb5d5cfe069c774f2dfc3165d2fb5fdac1ecee75b59dcaf2d90cad5fba836d4b77c6b7610074b5dd32c18261d2e6ba08c53f9dd83e38f52b861e721d66144843563435c5381f12726de5e71d83db4c146f9b3b9b61690eaeeff6ec8d81cf33632c19618d6570d38e0221b86bf6dc75b18b97605f70428639d7d7e27610f180728284d139a4ad6f4d9620001ecd91e36e03c13dd97da08ec7fb0fba109d38f5c1a379e5e7ae605f6a5b5621c21f7a8512e85667a09f9e1a002cd96922c52efc56df06aebcaec109ba7efe52ba802a1f70d5118e0f791912e4eba469511f0c4da0aa0fb389aaaabf1a4a88cb501de945ef4bc435569af2ff6c9a4f71d0cba8fedf66cae778aa9d736d6b569ea018db2d809aabf49c8b0b1c36f8328b309107ad48185f58343262055308bac59d799b353e4ccc751e70cf732a01b5ae6067754ca3c3e7fa41f87072c7cf1e6c245c268a467cfba367c977a3729d0ab3c6684ce8cdad117ca2b8845a7edaf6d448ccc99fe021b37624f26184262edb6490e54c1ebeb5a02d9855c55bfb75127dc68f7b30821ddb4063dd1bb122919618f6bda7f84b6e1ac23e4b2945c96c982dc21630b38cf9b26ad12ef6ba5183954edcf5be015c5e5e6a89be58985585d06d7b652fc41069457148c9163d0685bb3d3107ba2593a1e50f75f3cc6852d0c92fe05598fa4114269c093c8673363a96b94afe3814d8760ad35e42c1dda1ad7745cc8e7f283deed2ce70a47c1b946beadb30b9ead8871b4a28722c59a95b191507ece52e2303066202d140d465347a3886a7581a65cc7d5d19631fc101bab643775437e32614882e9c8cf73c9290399ab2cafb04d8e4e7209012309364432879c1d3c55b34857bd73ad00ffc509a841c3f5be33474c3746ac56cd6e80fdf4f8d394ec43028647506a75b60f1987c44f58ebc2884e2da28f978950ec4bb467b122d03731ee94eca2b1649f5694afd1388fe2ae60670fe09d5b3400024298f74ea20dfd9553593a0552e2f49865f68fd90ff42a62a22eae9968954a13b010000002bd67d0e000000000022002023e496feeaf508bb034b35a7e0e128c117b14803364e4fa9eab8a82f6a91cd41475221024009df2051daaebc0a2512544bbb645f7594d9c1de0328dea8de4021a7a8c74d2103e668793b9c4635c532f3e2e2819c9166e181ea47e25aa7aea0934bc424cb3d0c52aefd018b0200000001298f74ea20dfd9553593a0552e2f49865f68fd90ff42a62a22eae9968954a13b0100000000cda2a880084a01000000000000220020891687ea17efd8e693c47eb2d4ae6540d57304086a397a4b9b92d67c241645634a01000000000000220020e52eeb1627f5175241a09c2ddc9d76f328d80640bd1f5295e1772c76df36eb17983a0000000000002200204651e3ec6c4fed0b1f605b5741a6a8625f493f781e2c819ec8c3c6e7348af71f983a0000000000002200205f4ed602c54e242b68a69a4f2c3e5705a822cfc99ebe09c773d3ebe9e664dc07983a000000000000220020b2f26c100af28a13b2244425b39ef455cfc0f65631dae208ef8b78cc442e93f6204e000000000000220020cb5de3c3c0e6f31526a01918323d64ca6ab611d9748354850c7f3a9bfd35668388840200000000002200205ba45f7fb84eccb104b280ec6ea4c261794c0ccef55d48cd24306c2dbd6685116ed50a0000000000220020d5c5a151e77693d1e9dfa22cf95627caf2e07d6ab6302dd43ad6642261e572d7e42c132000020400fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000000000000000e4e1c0fce4d408665c5cd9eac99ce7babb852909bdbbfab979d981d95fa274af872c8200061b1000029a8bab32cfd069273baf8a1bfc003d975249c1797cf1d1f41ff75d17dc778623721f87c8fe614e47f3b432a325d8879389bd672c368bdf045b5f33527ea7ad5aae4ec7736bad1eefd197b234bc0268689ce2399ae3e8b19330491228efca2f62ce2d75d6f14117171ffb89cc19aefee4747dae2d943b061ec2b80f726a3de455c3f9c88f3291911dfd8f792c8cba419f6062b0031680cb6d73d5b18338311be0a26bae61ee4a73a89287deb7a2da9db0e2247bbdb3b064d1277566cb5838cf1888a8cb21950624b94891fdf592aa9bcad7ce1bd3680dab343bcd023543a34c634ff4ef85ed6177e8ab68296313530bcfc0d82a090a7651649fb08ab02df9b5b03b8787d3b667d0172f938f50352b3e9fea859c623be7a7a881ae34b6eefac2fc9d6fa0b85e707fb5c66816d32c6abb49a3ad15f8e0827b84f4b19e1f5a44178e442a415d0cf8a012e9e76296df8cfea71807aaad372991257ad52fa350ce272c27e25afcb6bc914f6926a5fbb8051e2f7e94735e00d8e781d51be4907f190fdce6570e4597169119a48eaa5660ba8207c40328a8ced33f8f381cdca7cd98ebe9fc38adbc734520e9075153e42c8802fa9f25d11fd5cde6fc194dc57fba5d391e4e85aeaab58a5a8e18396601c806d070b419cfa8e622776f4a81604cd7eadc9569b14d66767986d6836c10b6ddd04df141938431e423bb96f33bc5cf6d9ec496903f88b030216a01d07f7ea9a5bef992e6253b8a85b16419c4591694c45156bc67d8db0159ba0850d74f137061b9c917c5d3a45927be102a3934070292059c3d049954546b729bc9da4102c4e48157a9095f2567a06a4da5b15751ae492118f49312e9fba0dbc4170597a5da0e17da41320d99b385731c89bb1264b351f1355da52c39c59449a429bfe3ab7623b883bd3ea8fc01992f8874fce447ceff85120579919835660dc38d81388997ce3c7a99caebb32148e5a234ec21a994bcbd9c53f83bf8a78146069ef724e63201e25e9a357a3411eba4e03d09fe498ed23161028304036ec418fdbaf991afd5bc947e7957168574d5587c7e3b024f8f14b08ef7f07fcb287383a7def2e357a5d1cee69e2c691cd8105c54edaf746987e21ed529cc86f48ade1ff95c9d652549e2d1294c31342de7f815bf4fc0b6318ddf41d68f53c171bd0759b672466be594f316f3354e046be1dc0782e08c9f59eeb41a654a7122291c93cdf53f0dbbce659f3050edef293229818f54e36dad64ae5b297337254f456834d2338d1bb8e73f6bd2b1108e34e622514e9cf86227683a8a24bb1d3854dea043ff5ee770eef0ef300e34b994d6939fe6581d0b5c2f47d52482451e78024d092630796ad29411f379ec2a22efd7cc70ee9397d89f09b2b42d0371ddff55a85df1da314050c26e44c1617e7651ecfdd3ff5a79a3285aed565691119fae1802a75f156f21c9c7026ad75d60aa021fffa4fd5e60b86146fff244e8f1db52ab5c97d157d528d5a29ac3ba4dbddbf976a83caf7c2a9fbd3fe3869dc4a1ac9b641ab58ebd0e4b6ad97fddaf36e730d37713010679e594a13b2d56a028509bf85967e04f254258ba7be8c789db448cf65802755527b33efd2cbe310f972df46e7c425e99442faef2e7cd9134d0e05dfa3b83f18228cfbb0daa43dcd08ae572b497f403298871f679b235c16862d144a81336fb5e99d1037064f901c3235f03823b9ca44685669c3dd969dabcee9a50f36161c4772b17f7dd32ebe0e095433b46aa41a12014c602fd014176c4399521e4ef16f0cd58976ddc504eec915fa13fcfe366d203afbd5e1a63eb3c9f05ac9bb31542fd8a174a27d1237226d554df928ddde9a53849f0361b5d667e5bc4a063ac12bb7c29e4022be347c919626a23465368af050e9061af56f784962ae9bcb3d902b01400fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000010000000000e4e1c085748b11066ba78c7a4783329c29fafda6a601e9a52fdf6da215c053494c09c900061b1000030aa45d94b0c31aa64ba3bb2578325dd1a14262334ecf1685f9bbefa73e7e521961719f11427cde91873bad602f7f47bd3b5f1e5c853db889695f7136f2f98e19aa3aeda6c06b2858a3a2cf634768015c113e8ec16fc75a4e95a95fd9425ea134729c355a37fd7878467225bd1a6585f23edbab470ad8846aa820e36c3e28aff2ba86ef4d814373bee10cc51a5d5aac8b576e6dd34472d1d7397341bf6972fce46e1cc49e656a5f667f4c30fd0ffc0444366be23fab79135f7bf47b449f0aa77bc7669af5307f1c890fd047282f74c5f15aaadea00d2288ed30d1ccbeb93c946aacc0ff186414603ac0b9cf943e533c10bbc2c1ca8376c8ad1dd2af606e9ada581c7aef350b8b5332227b32b4b5e285443770c2ebbf4690ce908e76e6bc701c1744300aa148275ca197816c36cbfe483b4f67870d9ffdd63a97c2a49fee181ff9397d74a94235facb2d005b8af3377fc38a1b4be655b10e2daf89b468398e1a91ff021ddfd3d23855bad28b440b237a9c647dd70bc270167ae39ef9d9ac2ddfac13de12d919be6d43970d6ecaab2345e09f918a6f12a93e3887ec087f310de610aa1ed3430677b2de0eea41fd9bde0dde551025476d5c5563df74ea40090d72c00c8170f5138d62c6176637b3ac298e0896bc32512f5fb2d560fd54189273f23155b2092f68ec2e67a08b80c397736c6d7c179842cff7f00d0780e7c078b17021b1f7a570d0123fee296559607960b353cbfe72c502602614fe020206cb6a99269cde4b60f58225ee04e289eaa435279a49759402dddc767ffdede72a38b71c077f6e5154ee1a5fab12171ef4dcc7aac8ced38260e217d48aeabf06ae719d2c8b0a4fcfa4d982f4da6142e3f643000ac8a5d5ae553c36022ed7b89988d65d389e80676142111798b13ed1a8a7f9e097cbb5c36e6b2d3b35dcb0e2007ecb870c2137ea3c7f27e7a6aec807bd1056fc26b901bc54da7a593ebdde261340fe18bf3fbf6601dd032d40cc57122de5318c45ea3470290c710fa77162eeb6c29b4b136fb6a88cdc2fc3deec720a8bd4324cdf4b73c90b62a3883ed1ff0a105860e012fdb00a5853bf4227b105855a0131d9a334d7b88dacbc9f92675a39bb1793dcd22d41c9037345fb71e3548adf118025cbdcaf7cbfdcdeb80d9cdf4424f37475b1b51cce27780f857730d22f38768d44b9905416cad1c0056a03366bd2f8363e72fd56c4d02bee5c256daa9f68d1e63aa500bfd2583706ffdcc6bb95b5649d630bba92f2b3651eda32177b009389dae7334c6f3ad67299fab21bae4f1a7a2aab9a1c6d7f38fc230944005dd6819b621404af8ad74b080a4948b7fc272f65035e688f6ce04c498393415feeaa2c1801d11b126bf1e8315eb7f65457b731da70515fa52790580b547cbd3f27048b29ad5adc2b6a7610a473113aa4625776928fcd5a4dfa7134b4c6c3fb8dd2c72d412d272592ed1bb4909e1fc149ae88ad9eb038b0bb9077de52b41a31f7b3f42f3651f31c96f11ce307071973461139c9536c619fe30c6026dc9e78a28b31d3e39fc370304f8f077024b3eb3d8085641c256bda6f7f8b01dce9ec8898a77a526d5a6faff4c55a6b592560474d8e26406f8c8077dfd41b00b58c42295521dfba5d54ebdbe76a868946f9a2c10516161613eb618aa427502f80c6bcec6138c1f32806a849000ef09bd4967781762ecb3fee037a82f0103777a86c374891ab923a0c6de2d1c0400247eff31abb781e19ee270a47d471ca810cb68db4fe2a35d16bda49c67f6f5bc684bd997ef9f76142a341cecb025f497750c430d71a1e31232689025a8b445d689089811ea6405704ff71b2ef39a1ed570d0bf380132d32a1ea961f51e421f592279f1506912c838dbcf126ce3d1582e32c70fe932df599eab3b2bfedad100ca874de1301fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000000000000001312d005381a6ac452c017023e22a18f5ed62a25fd93aa69a22399468e13222eaa3d46b00061b1000033a7ec4227c55fb74e3f439ac42fc25dbc44c3ad1ac517799fe573c3ba00f5c55639abcbf5faf18cf8065550c6502770190c12dc467b10870e4bb490dfa0042db551a5f228affb013c8d4663623b0584d07d39e553591fa6edecf12e89d5a18c1f633bfac3aa31e1ea1ff324ddcb39e22449ab3c340f2c059c30223d47a82ad7e64fbc6bfc64dbccc3b991e555b3aabbd279489b3f8b6fe0e01792d523678b6a0f60ffeae359b593f7e1e4a5c768e9fcdabc423cb19e5e15be2ffdb9353ac19602e5dc94465d372abc0495c645b1823b1e84dbb3023f9d6cb8470d98d5845f501d804bac7ab6735e6ad1efa3ba05069ad8aa59ce7b53c46361639220a40ee40ac523d1e520bec94918fb25571a3d20083af06431ffe50fe9f2949714b125151bbc44dd5d8e1ca415eecfcd1530ef94d5a1c39f2f8dfb1b4b6a3cdb0804c2bea088e522cfb10378b637662afd1bffd17498c7dc8a7fb8d4ab97960d61e7ed5c3cfc5df77efc6cbf3c74b2438fb3e81ec2a779183fad1487ca527221941c1f59a3029efe088d1f37e7b03ab10a3336faee43c71d4a7f2b952271ac0b9709e4c87050c082ea961cc5c141d9455918f60aff12d2be1c51cad5e00ccfd4552baf41220a46ea93cdef5a77af9ca9a248cec71ac16f726ee4a5961533bed5837f24e87e1cd871b32ae6812b945594471a1533fa1c9345975a9c0ee94a39466fc7b7b9ef3822a3f0bedffbd5c8b01b428ff266afd28167b9d261d23dd398ecd4e32704ae7ea71a002c8514261b8e7fbcc6a1d2d66e140a468f5e4967edd85b741654279c0a5957524a8824b29469ba9f1cd72686a3e57fe08f894c7144bd513948e13538fba50234926364ce4c2360c88b6064e5680df71aedf695066e4cb5ccb2d5f0024b40b737d9b8b1f3e0f84c0fb693b4d1341c1780bc65802de7a81c4080fe3edadabc3627a255edd405098041389112f6a38202241204dd6f2d949c7f05d0f4d71d1b45e0d63f5ab6e57f4e8e85480b6b249d90dde207f332298f1a0fb9be0577b48bcaf5c2c8c413601037252005d6bf809363f192d6d6e9f976dae6ff1a836e985dc6c9b36a23de343e41c1f6415bbb3d9e321457cb7cebc687940db24e28e95b207bd2f6b47c815e6eabc11f4d75f81ab3d66fd20e1900607166d5b9f3f7ea697b1409a48f2d14aa1bcb6e8e73cc30e895edbabbc3ae9294a10f14c8d20cb4adbbe4dbb65cc41896f9582f3bfaf09c05c996e86892c24dac3ffe6ee7abfc5a60d81e249e534e065e61300f9088d6706f694c6f182516afc1b798f264c2831f434b25980b2ca445b356077478eabd275431ec974dabf203f274f7ca40a1eee8beaffefef469b9ab2377904375bdcf0cd8ce7117a835784e4f70cc048f04c62a4cb9fcb058597022b7523ff66abc1f93c140289fb758e7f2bee700e3f115ee503e76be983c5a8dd3e7f5c5e6029ee14af2b940851287ba5104994206c888a5e5f4dbca06127dea382cd0e368da52b924c967f5dd10b7021628292e34105d191a8aeb1e246be83685f553cb858c87f69f66f704c7ce0ffd1adbb610b2fdd562f26d86ffb333573e8b9a5a34d0998153f7c8d8426f9fb215c97e75530eab3ae0189d5930ae58a86b98a6cf59612fd09cb58ad4d1bd415cc041f8a1ecb5b8eab711700b3f2f7b63b57545efcc3bc2abf6224e6ce725926679daf1de033471f5a38d7e1ce9ad0349cd486102c1384956a469d83cc740e3ee1fddcbb9315e4b3a8489bc29168a1a823c1dd8bd0086d6eab123e0165c7d13d121158badb991c2401bde86d30233d275946acab7b0645f91e13676a32ee047b41ab51e9581d5ec9e61079c2292dbaf6ebb827b5d9955329b1251db24b9e3d78a02ef71b3c0595372ff50bc7c89cca6c93f78f07c3b285dca3d18ef671c11d01fd05ac0080c08fadc020f8a18f3ff671801ee3e7e22118d70c923104e221bf0fb74b91ee4100000000000000010000000000e4e1c0963c4f67ddbf9158cf994c9b800bca63e3850f605bc85fb20901bc321fea49f100061b100002d3be755d19eb3f22830ed19c131bdded376e979d5d5caf48590ce4dd49ca28156027dc02b5ea32642693dff80fabd9bedfd1d30fb63cb956af2faae4482ddcb7a566f3efb99ceb035bdf6486629c5394e9ef47d4f522cc5ffb26d34a3d8bed1b9a1e15fdce639b4ea4b04dadb725000400d1c7cbb731a896e1bb11374ccfd7eeb67ada369e7796072ea24cdd27d343574409eca54527f9362f64ef9f9048a17a575eb292a5f56953f51e1a982af8b7855bbdaac0c9c2c05cb51a8e761d91af07a5083da19b9c1b270679649270f09b79971200344783f71c9c69744679fe44472148163ee09933f2a98f39a695a1e005282143c78cee3b59348d74c679a7cdf423106d24d9fc8468388591d0dba05a2e17cfdd1a0e59025feed98597794ebde5114ea049f3791591815d7dbe45844dcc47d1ed84df345558a55dc63b4927eaac22700f0900db5ee173c1e33d12f04891bb6f2e8efdbecdd8e0027f09e57570458ae13dc7af76bb7bacfff1ba21c6a079132df3b5c174ff324aa6c8798677d8eb3695975141cbf666fedf7689f624b0c64ebf0c8cb240b1a6426af1be3d5fa490b59845a405b2f8857093200deca6363ddfb0de045d2e78d66972640175a71efb88d7a099c20c4170b6bede458422b7232c069ac55ec6cda7eba9967de4ded2d3aa34732bd3fca4881fcfc160dbfdc87cd3ee205eb947286ff869387ff28ddaf96ab9d5a5f4133fe54b40b5f474a1f3d8f0ff7c38a19aeeacc31f7a6fa881d9bc86c150e768c61c6edc0a9e44fdab89245a8396263841335d4b9bfc9a0742f588dcfa2caad92d628157bb8b00afcb7c58c98ef0021742134e54d76b45d562f7b491f52db40327c47291e9b95c621368cc0ab4b8f4900ba33a2c6e7a6bc550bedc38003392be68ca6d00a8f2e67d2257c93c17728420e748f5994597d3a3fb5d5cfe069c774f2dfc3165d2fb5fdac1ecee75b59dcaf2d90cad5fba836d4b77c6b7610074b5dd32c18261d2e6ba08c53f9dd83e38f52b861e721d66144843563435c5381f12726de5e71d83db4c146f9b3b9b61690eaeeff6ec8d81cf33632c19618d6570d38e0221b86bf6dc75b18b97605f70428639d7d7e27610f180728284d139a4ad6f4d9620001ecd91e36e03c13dd97da08ec7fb0fba109d38f5c1a379e5e7ae605f6a5b5621c21f7a8512e85667a09f9e1a002cd96922c52efc56df06aebcaec109ba7efe52ba802a1f70d5118e0f791912e4eba469511f0c4da0aa0fb389aaaabf1a4a88cb501de945ef4bc435569af2ff6c9a4f71d0cba8fedf66cae778aa9d736d6b569ea018db2d809aabf49c8b0b1c36f8328b309107ad48185f58343262055308bac59d799b353e4ccc751e70cf732a01b5ae6067754ca3c3e7fa41f87072c7cf1e6c245c268a467cfba367c977a3729d0ab3c6684ce8cdad117ca2b8845a7edaf6d448ccc99fe021b37624f26184262edb6490e54c1ebeb5a02d9855c55bfb75127dc68f7b30821ddb4063dd1bb122919618f6bda7f84b6e1ac23e4b2945c96c982dc21630b38cf9b26ad12ef6ba5183954edcf5be015c5e5e6a89be58985585d06d7b652fc41069457148c9163d0685bb3d3107ba2593a1e50f75f3cc6852d0c92fe05598fa4114269c093c8673363a96b94afe3814d8760ad35e42c1dda1ad7745cc8e7f283deed2ce70a47c1b946beadb30b9ead8871b4a28722c59a95b191507ece52e2303066202d140d465347a3886a7581a65cc7d5d19631fc101bab643775437e32614882e9c8cf73c9290399ab2cafb04d8e4e7209012309364432879c1d3c55b34857bd73ad00ffc509a841c3f5be33474c3746ac56cd6e80fdf4f8d394ec43028647506a75b60f1987c44f58ebc2884e2da28f978950ec4bb467b122d03731ee94eca2b1649f5694afd1388fe09d5b340fe2ae606707353c5311d659852b837506caa8f0ba5746b23a04c7a9663004f583245ce17bc033ff4187890461554b5d54904615de7aacadb4fab6a0fc4f1069b5c5018d7657800"
        )
        val state = Serialization.deserialize(bin).value
        assertIs<Normal>(state)
        assertIs<SpliceStatus.WaitingForSigs>(state.spliceStatus)
        assertEquals((state.spliceStatus as SpliceStatus.WaitingForSigs).session.fundingTx.tx.sharedOutput.htlcAmount, 65000000.msat)
    }

    @Test
    fun `forward compatibility test`() {
        val bin = Hex.decode(
            "00000042aabbccddeeff00112233445566778899" // it doesn't matter what the data is, only the version is used
        )
        val res = Serialization.deserialize(bin)
        assertIs<Serialization.DeserializationResult.UnknownVersion>(res)
    }

    @Test
    fun `maximum number of HTLCs that is safe to use`() {
        val (alice, bob) = TestsHelper.reachNormal()
        assertTrue(bob.commitments.params.localParams.features.hasFeature(Feature.ChannelBackupClient))

        tailrec fun addHtlcs(sender: LNChannel<Normal>, receiver: LNChannel<Normal>, amount: MilliSatoshi, count: Int): Pair<LNChannel<Normal>, LNChannel<Normal>> = if (count == 0) Pair(sender, receiver) else {
            val (p, _) = TestsHelper.addHtlc(amount, sender, receiver)
            val (alice1, bob1) = p
            assertIs<LNChannel<Normal>>(alice1)
            assertIs<LNChannel<Normal>>(bob1)
            addHtlcs(alice1, bob1, amount, count - 1)
        }

        fun commitSigSize(maxIncoming: Int, maxOutgoing: Int): Int {
            val (alice1, bob1) = addHtlcs(alice, bob, MilliSatoshi(6000_000), maxOutgoing)
            val (bob2, alice2) = addHtlcs(bob1, alice1, MilliSatoshi(6000_000), maxIncoming)
            val (alice3, bob3) = crossSign(alice2, bob2)

            assertIs<LNChannel<Normal>>(alice3)
            assertIs<LNChannel<Normal>>(bob3)
            val (_, commitSig0, _, commitSig1) = SpliceTestsCommon.spliceInAndOutWithoutSigs(alice3, bob3, listOf(50_000.sat), 50_000.sat)
            assertFalse(commitSig1.channelData.isEmpty())

            val bina = LightningMessage.encode(commitSig0)
            val binb = LightningMessage.encode(commitSig1)
            return max(bina.size, binb.size)
        }

        // with 5 incoming payments and 5 outgoing payments, we can still add our encrypted backup to commig_sig messages
        // and stay below the 65k limit for a future channel_reestablish message of unknown size
        assertTrue(commitSigSize(5, 5) < 60_000)
    }

    @Test
    fun `liquidity ads lease backwards compatibility`() {
        run {
            // The serialized data was created with lightning-kmp v1.5.12.
            val bin = Hex.decode(
                "0402b83e19a809cbef04a58caa852693cf7ddebd0fd926875bd1b195fcf5225a869a01010410101000037108815ff0128f7ed22640485c226d9ad64a9fd6d8b41b6623565aed6b34812c09fe8824646afed5cc44a9fecb08263bfee1c34a83feba92e4e8fe65d93543fecb5ee602fe43ec9100fe80000001fd044cfe59682f000090640116001405e0104aa726e34ff5cd3a6320d05c0862b5b01c13280880000000000000000000001000101a51020362b19a83930389b4468be40308efb3f352b23142ae25e6aba0465a8220f95b06fd03e8fe59682f00fd03e89064026843554d5e604ffd3fcabc56cefe5849abbb7fd395f36bcf3e9550594aace9690236633b1e8f7a54ef367482c31c74162f4fd3e4c7d78694e2c6d769af6e33047202e97df1b0423c20ba41a1955e71cfcb96cec4f636b1d310be78e989f92229edb302b3c6959eefecdee406b9b4df0d76126f2c5038811b27abf44738e6db1be0bdf11408220222000000000000000000001000142a5102000000000000000000000100022b1d92a4eb38c6897dd9f9c6931be595d10037831dc20bdf71b8aa5f0f739a8b02fd024a02000000000102d70488b7709a2ea05d808ec1f46d6ec100f85b3c1f1fe909d3dc6332b1b9153a0000000000fdffffff3bd4776fba4675b6b2e56d4ef0b81159c4319cf9942918fc29798f06b95a84270000000000fdffffff0140420f00000000002200201aaf87557cdb6e31b338fa3e6be95fc7d8ee72b80ac8147fc35ce975d145a67e03473044022012d7967e817c6f369aa4f9a69f78ac1008a7f0ea8f62e3510b8ec2ed3e9e109302202fd1fd54d104f7e2fe0a5404edccb7b3f786cd5f82447bcca2bd23fee34cb596014830450221009c192a826ecf488216eea24279c6699c774e9c930194a8357a61d2e4e91b9c1e02202a085efb5276f6d34ec310b8d2ede7bf65fe63d4027b93b89902d3c4e179e91d014d2103d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc4919ad210256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdac7364024065b26803483045022100ec3085bef0557c2329c0a9ff1df9374973f42247bab7cdcff10b2fa5fa8b89680220040eeeb7576228bcde8d62f930c368010c8c665467299ea7f3a735140a27ae3301483045022100e628ebd5b4f433c1e4127b7d7fb0f625a6dcb1e4cf8cd62aa4a120312c723138022020f22620ebb280dfc8ad5eb1c1671ce13c4cd9bb7166cd50f3a8577a8b79b167014d21020bc21d9cb5ecc60fc2002195429d55ff4dfd0888e377a1b3226b4dc1ee7cedf3ad2102d8c2f4fe8a017ff3a30eb2a4477f3ebe64ae930f67f907270712a70b18cb8951ac7364024065b268801a0600fd1388cc0047b83e19a809cbef04a58caa852693cf7ddebd0fd926875bd1b195fcf5225a869a1f89a5180b0bee658784378bf354a475d4ae359997e2d93964c892dfacb16f180000fd025b409c192a826ecf488216eea24279c6699c774e9c930194a8357a61d2e4e91b9c1e2a085efb5276f6d34ec310b8d2ede7bf65fe63d4027b93b89902d3c4e179e91dfd025d40ec3085bef0557c2329c0a9ff1df9374973f42247bab7cdcff10b2fa5fa8b8968040eeeb7576228bcde8d62f930c368010c8c665467299ea7f3a735140a27ae33000000fd1388fe2faf0800fe0bebc20000241f89a5180b0bee658784378bf354a475d4ae359997e2d93964c892dfacb16f18000000002b40420f00000000002200201aaf87557cdb6e31b338fa3e6be95fc7d8ee72b80ac8147fc35ce975d145a67e475221022b1d92a4eb38c6897dd9f9c6931be595d10037831dc20bdf71b8aa5f0f739a8b2103cb734f5eac1ce94a8d571b17db09bafe974b5ebae76416667bae888a11fbb9a652aefd01bc020000000001011f89a5180b0bee658784378bf354a475d4ae359997e2d93964c892dfacb16f180000000000bc63fb80044a010000000000002200202a962bfb8410b4d8515002cdca69755a4e7b2f35c1d3c8ca23c8c2eb2c663ea84a0100000000000022002086bc033f5435e003d1be7f8d21ffcba84d5177f72d9cab95ddca49557b0db016400d03000000000022002066b48675ced51cc392a9c208c5b6b37173fcd1c88601188c0a55fa5db4a3df87781c0c0000000000220020d4234a5c556b42832ec8985edc4f377809fa254fc509ee5533de099a91579848040048304502210097e686048e14f2e862970d384734ec72d4799afaf7a67f679e5ef1c685e37279022052f6c4647e44bc9ea197431e47903398fc077314e47a19046f5c6f6b130d9fca0147304402204c85f5c533eaf8bfd8fcdbfca7184522eec4d9f3028226450051a7cedd15d0d802202a5ead9a0284bdec30d52326eb2ddc8d6e00a991f14faf5656a05769eb52ce8401475221022b1d92a4eb38c6897dd9f9c6931be595d10037831dc20bdf71b8aa5f0f739a8b2103cb734f5eac1ce94a8d571b17db09bafe974b5ebae76416667bae888a11fbb9a652ae34d5bc20000000fd1388fe0bebc200fe2faf080002613a5fffafc39766ca252b1470bc96161211c3bf0533aa04fd7cb23d05bf6e02cd117f0145d8c5780d5fd5145251257cfc0898145a99750c181927bbe526f4a600000001035a3feef004f091d822802e715c2d6e9e75020af11be99fd3d4c30e2c6ffa2a480000fd0760040042686e87cb623bed5376be9b0b6314dc871fe35781bbbccf91d12cd07adf711c72e520bb2ff4cf3fa9611868a324e153ebf63586083258028b322fbce9995ddd2593a122a97b082d0f2d58a895c9fa06fd535089a04e05fcdf0e8907492a6c5244541b806bcc49120e464ec1eca87840b41e694725528fe8d7d94f640d958d0b43c17478977617d134a4a1fa85c45f135bd626e70ca862cca3e4861e88771a120bfa6898971b4dd3b022dc920f481cca8102fc101e69ac2d92e18773ef6b262356370514cad85f6531f3ae1d8f404e04172917483227ad9ca8ac29a0b01302ecb67adf54e8289f6dedf3c323f1e52daee77b3bd2524a2959f5dc0dec361212b77c593b67419adeb7aeb75b39b9daca003755b0fd50653724df439d95e6a00bb6afb303ac8a39bc47ebc6a0b906532fd14140e6ca727c4b85ca970da5b249374ec813d1f78ff7171711bfd2a2bc204fbe29834bbf8b9bdf1be88f987315e2d3cb56b50056feee5970c9939af176d829e08106dc4101f5f18a8f04c8067e375505f7bea0a20ccadccf3ece22eccb873efd221877100e08ab9b1c241ef36176dc0ab7b41c17a5bddbf243e22c2dc5f5f9b410a90b6e77e09bc95d7e9e50c5a8afdc462408c453d37571a695dbf37945565b605b0b13c70ce03580d0c4c36f453c7a0a1a7418fdaf057c1c3cbbd9f3fdbf667f3d7342b24c4cc5b7b078891b2fb31d2a2f37f9beab0a503c34df80c39eb19c9194bf4b04c164dade1b176c0cc1690ff64bcfc3f4365d7f7ab7777ee20374c1707a794e32eb7792b20cab4d67cd0d226eb93643d35dd479567a90245e518ce4150709a7d550d3b175ca880393830fe784aeac55811ccf62ce15bac14630263ba1c182827646a4bbd26ddbad3100b23b04afc042cefb6489fe1c77f38826d8a39c9cdc906d73317eaa33cf6ca2ed8756925c8919622ee80a87d66f3eb2f43534c6ecb749b2c473d32c7eaaff659d84bf680c702c1e13adcfadd8e907b886300e07cd431fab9affb451196e3dfd77cfafb8de0e1fe65e66ddb7ba594b7369aa52113c3d752b312fbc51a17d504244933cee42909c60c517a4411f841af48799e719554a07bdd3ffbeb14e694e913514856656e7fcdfaaf84daf8f0b2ef4639c0682524874dd7eb4c16844074ac0d97354a7e643a2e3220bf30855c54461464c0bf82bbabbba7fe407e1f2fa394f8e3822c507e2d705e32e13f2a50a5f2c8b3d73b63847cf985f06e25de5629e8a570092a92996c655f5ef3871d2a3a4b556c9b52d40b828475c35262c6f9f5bbfbd3e6ebf09864bfb3d3dcf4f78961d4fc85fd9b9c924ce6ba8c6df4c8525ee4c3f67f97e361566b31a9df0c4bc6da36e9e0e47f0b91a67f489fba2d0eddee58bac5ddc4cfde2c74947a27b49e89fa838bbfaeae6605a7e2dad611252a5d30a5c99592de44aad8fb4253880ce16f60c3231f9824898751e99eb4d554bea9042843a56d5239f8d3aae93696583970822429beef912dcd7129693e11ad39ec0191ee5fc06b58544fbed9c6c12ad73690bf64bb78fb16902e97bc8f8fcbdba321ce0241141542cca9235489459b1b50d44d76bb36492241dfa43f5252331556a9c618f14f89f9b7dc9944498a73ce242a0ec0b2953b25cc5b11c25dbf336a6319f479e561c2c4f6f196a43f93ddb22da68bfe3909c3cb21503a554b895ef4dbd0033684b16b974042386eddef9faf63389d6d07bafdc934884589333da2fd0a6e1e15bdcab663c562e00e887c1b9b5296b8bee678a21d11c45005729bb0e6eb225cb9a480673483634ad21ceb0bec52ec78b13058847e750412ab67e3631187c289aeba97371926027b348bc932b600ece0fa5a8fa69a18d44e51eb7857011e72484e1e8393d94382ddd8e012b676dde44da75eda81aa0ba5ed8e474b7465c5af2b1a1de7aa870fdd191de0caf78875880ab6d5d3fcef3057002e17a07f9e870ae13634cef3bf8a60b41104c39145a1b6dd44f37c3b7d3c78f2f6f1fe83d38c2a54c1597270fed60b157fbdf431d51e98899f6894ad41c4142e271af7d5557faaacdc337caa9f3ecae7a0dbfdf27057c437556c9c9442fdca9e9a07e61741ee56a3db89e29d3d4ab7fc3feda7d737d5ceb3787d103efbd72772a1ebf65541d6d7cdb5ac82e834060d1b9f58be80db537f9ca696a57f21d74fdee7947ff90cb238c3f6f7e084012a1c1466c230d841e7b3cc0b670696e7f3b6186770b2e61c3bae625da4232831058ad73c87744be94f301ce839d6fd46d62fec3edd60ea7cf92fd119b98232cd9621f5e5d37bde331e2db7d4742531e93531676150bbcf8dd28e7acd3181128ebfc36c49aa7ced8fb5af96833769deb6d46f49010ce92ba80e5f7e841360ae01f86a39e24383cab02d31af0745f70b752ebf6e149e38c1c4bc7a6f39124555b449e4887fca29bdc51efd56c0f682458a41a5cf28697c3f79c980df742e80aeae1dcc91309389885c3f2386f4edd14956bf562884f5983bb906fea2bc394efbb67de76720209ae47b3a6ed5e00e82287f3586113de2476d514dc58086e03890ce3247a0d2969a32c995ec7b306c8c6b6737310f8d2bf2499d1659b523e0ceb00eba41af9bb32a81fa230a560a866606481a5086da9ea8b61d0d4dd8b0cff00002a00000000008a01023a973e5a95ba9356ebb5d884eda57169e214d46afbe7e0ede00f4bf4a3acc0336825ba58984754922a4f3a28cbcb5fa52a9b983210bb992eef6e2dfe391a806d06226e46111a0b59caaf126043eb5bbf28c34f3a5e332a1fc7b2b73cf188910f00002a00000000006572fa6b0101009000000000000003e8000000640000000a000000003b9aca000000000001b83e19a809cbef04a58caa852693cf7ddebd0fd926875bd1b195fcf5225a869a01fdc256000101241f89a5180b0bee658784378bf354a475d4ae359997e2d93964c892dfacb16f18000000002b40420f00000000002200201aaf87557cdb6e31b338fa3e6be95fc7d8ee72b80ac8147fc35ce975d145a67e475221022b1d92a4eb38c6897dd9f9c6931be595d10037831dc20bdf71b8aa5f0f739a8b2103cb734f5eac1ce94a8d571b17db09bafe974b5ebae76416667bae888a11fbb9a652ae00022b1d92a4eb38c6897dd9f9c6931be595d10037831dc20bdf71b8aa5f0f739a8b0369b5f974eb92be821826fe7d0969744283c917f3411655f190b56fc5930c3cfa00fe00061a80fd044cfd00fd0101010102241f89a5180b0bee658784378bf354a475d4ae359997e2d93964c892dfacb16f1800000000fefffffffdfe2faf0800fe0bebc2000104220020431b8ae82b805d47da74e00ecde92e930c666124d5930fae2958ba309885380ffe32a627f0fe0bebc2000102007d02000000011134cd9d56bee35f5db7b8a8e17ae69eabc8738653da42247fad8996e7419b7d0200000000000000000250c3000000000000220020778f86e213a518e8336ec940874ccf4b92910332f5b3c0265374a86dbd34e6a596000000000000001600141240d4b7fcfbfbd7234cf2dedf071673a0c1e5590000000000fefffffffd03d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc49190256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdfd6540000000fe00061a80cc0047b83e19a809cbef04a58caa852693cf7ddebd0fd926875bd1b195fcf5225a869a3448c2e0ddb06dce57bc06c2a3d447d958958b4cef6499a4d0bb1eb36d28e2c60000fd0259406e731b1649d06176d0ecf590b385b0123f685cb93ef518124d6b9cbd7062c4265af87d8986ac6fd525d0e738dff61e00d18ce04fe9cee80a99744a65fcd4fb04fd025b4045e91597bd2826f18f58321051c3e0a6728ebbb0d633eba9428139335460c9da322b01137b5a3b5041fd526d5043ffd586d8ef44b7ccb27c9605ab6bb2943d27000000fd1388fe32a627f0fe0bebc20000243448c2e0ddb06dce57bc06c2a3d447d958958b4cef6499a4d0bb1eb36d28e2c6000000002b9604100000000000220020431b8ae82b805d47da74e00ecde92e930c666124d5930fae2958ba309885380f47522102c3cdf2cd990536f7ac520b3a2f66c0a6e302c2fe15a8c3baee24eba1cb9a8b02210369b5f974eb92be821826fe7d0969744283c917f3411655f190b56fc5930c3cfa52aedf02000000013448c2e0ddb06dce57bc06c2a3d447d958958b4cef6499a4d0bb1eb36d28e2c60000000000bc63fb80044a010000000000002200204725be4ed490e91c4ad5824fcc202c53787b147d4ad28a30aafeff90400d17634a010000000000002200204eea61d0b3215da0c03b103e98d24aa4466e0fb1ba80f8d8d85d33ed0a969da3400d03000000000022002066b48675ced51cc392a9c208c5b6b37173fcd1c88601188c0a55fa5db4a3df87cede0c0000000000220020d4234a5c556b42832ec8985edc4f377809fa254fc509ee5533de099a9157984834d5bc20000000fd1388fe0bebc200fe32a627f05f4cb3d37e1f420f5f39b563929d1a82a8e93ee4d864eaca609508b3ad2b6a5702cd117f0145d8c5780d5fd5145251257cfc0898145a99750c181927bbe526f4a600"
            )
            val state = Serialization.deserialize(bin).value
            assertIs<Normal>(state)
            val splice = state.spliceStatus
            assertIs<SpliceStatus.WaitingForSigs>(splice)
            assertNull(splice.liquidityPurchase)
            assertTrue(splice.session.localCommit.isLeft)
        }
        run {
            // The serialized data was created with lightning-kmp v1.5.12.
            val bin = Hex.decode(
                "040238ca11203794f6ef69fc7df13b91e7848c837632bd1407bec63d9ade0330a3f701010410101000037108815ff0128f7ed22640485c226d9ad64a9fd6d8b41b6623565aed6b34812c09fe5b62e3a5fecf5fd832fec7e172c8fe15fff232fe17015da3fe71c99b0afea90a802bfe3993f9cefe80000001fd044cfe59682f000090640116001405e0104aa726e34ff5cd3a6320d05c0862b5b01c13280880000000000000000000001000101a51020362b19a83930389b4468be40308efb3f352b23142ae25e6aba0465a8220f95b06fd03e8fe59682f00fd03e890640349b56ccb150862271cdc1b280d484db844d48ee85f07515cc6e847d1d32a147a02d78bdcc7f2160d5ccdcfbc0ba3dcc4b547d06f38cb65ffac7589ae5ad529d08a03e62f14d41cdf68d7ac982dc03e6492d093d7aec4ef7d1765d5a5bcc995e204b602e95f9d9281919ff9cae84e7dc3b5b1ef1161a6c503617e4f3207e05d722c15a71408220222000000000000000000001000142a510200000000000000000000010002e5b062a9484e793eaf759f5ab4879577e5d1af684866decf0603f1c56a18de0f02fd02490200000000010256724a067da52a008fa768ad15f2a003054882bf0c09693a2c0f386eb5d8c4340000000000fdffffff3be96364f874547c41cf86f1f57c35029a6e082700bcd25f5b3cbd742417ced80000000000fdffffff0140420f000000000022002026fa4316fb307d348467c0edd3b8bb1eff9ca3ec04367ce5788885712ec400b003483045022100e66fec8848962770b61c9835b4e09954dd6dec98c2cd621a8592defe58796ef4022067aa7588b08614346f544322577b7797116c727f452b06cad40c2f9b2af8774601473044022064df9cd5e6e68bad426f4ffe06ccee9eeb5769f4fe65931bc54c0df618accbf1022018488e51b6c6969771de015e9ac41f9426701c5c961df270675cb1476920de98014d2103d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc4919ad210256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdac7364024065b26803483045022100e9882e40951f43da434e1d86cf9830f5499f8dbb846f5131becfa0fea181ef4602206146db93b26271798d40f453d5255557191d0f45f0b5fb0a0d78ce261afcd386014730440220379f14da69fa108168d32351e5c9127479a8e1858f89cdf1a70c66010348a6c1022039bc27eabe21078071c35c35adc1c11ab8e3f70fc9d4e649f6527618e70ba647014d21020bc21d9cb5ecc60fc2002195429d55ff4dfd0888e377a1b3226b4dc1ee7cedf3ad2102d8c2f4fe8a017ff3a30eb2a4477f3ebe64ae930f67f907270712a70b18cb8951ac7364024065b268801a0600fd1388cc004738ca11203794f6ef69fc7df13b91e7848c837632bd1407bec63d9ade0330a3f7f62dbfbfc3ba1da02c846abbf48de14377d8a73d8b69b9e7145c231e2b060d240000fd025b4064df9cd5e6e68bad426f4ffe06ccee9eeb5769f4fe65931bc54c0df618accbf118488e51b6c6969771de015e9ac41f9426701c5c961df270675cb1476920de98fd025d40e9882e40951f43da434e1d86cf9830f5499f8dbb846f5131becfa0fea181ef466146db93b26271798d40f453d5255557191d0f45f0b5fb0a0d78ce261afcd386000000fd1388fe2faf0800fe0bebc2000024f62dbfbfc3ba1da02c846abbf48de14377d8a73d8b69b9e7145c231e2b060d24000000002b40420f000000000022002026fa4316fb307d348467c0edd3b8bb1eff9ca3ec04367ce5788885712ec400b04752210243fc4580744090c5009be7bb3b85b91c6dfdfeffc67e37a808a89431b24461bc2102e5b062a9484e793eaf759f5ab4879577e5d1af684866decf0603f1c56a18de0f52aefd01bb02000000000101f62dbfbfc3ba1da02c846abbf48de14377d8a73d8b69b9e7145c231e2b060d240000000000620f4680044a01000000000000220020ad6e712f2f3ff4a279f7c1cc4bb31d88c98ad807537616a4f53beed64cb5091d4a01000000000000220020c79d8484429b469c3230783f14fd3228d9b6da520dac471f3b3d826c59ad0b52400d0300000000002200202a563e407578aae18800c2388759b5bad0ceef5a3759de39d7acedffd868d30d781c0c0000000000220020bf57f237188dde15a4a0947bf64cd985f95163d77fee3d8372cdce323de1efdf04004730440220178102bdc1fce536c08c0660749208ff2d1e0aa9bb5ad1b98b120e9e5e263324022057c7033283b0f397f98378d0b2666879ed5da822445ed43dbb26563644d397370147304402206dd5be99fe9473e0221aaf2e37a72fbe38f666c4129c0c164cf9bd2eb7d93fe802204ec11e93732a56f4e759c4ea8359cfda3e1db4cef0cf91f79b1d9906e60eb2b3014752210243fc4580744090c5009be7bb3b85b91c6dfdfeffc67e37a808a89431b24461bc2102e5b062a9484e793eaf759f5ab4879577e5d1af684866decf0603f1c56a18de0f52ae65031b20000000fd1388fe0bebc200fe2faf0800b3822442b3a5d53e6410fe106e9ec9408a9bb0b6b6f34c0ad39d0811b466f86a03cb5d3b7310e6532d403dc7ad5857869e6ace3a2a1a7cf710c8a9b307a5ebb02c0000000103b6668d222ea88836cd25b40784f759c9cc0ff9ac03ef0408a08543ae185405060000fd076004003749c4912f86c5594f2e9775e78a8292f386ca75711bbb7f89c841e99158d24e1aea0c5bf2f810cedf6ca3842aba47df127ad165b13052c8fbc30aa23feb59d01960f2226127e20affb1637bb17394140be970a45c79fa4dd3ac0ba32c6bba5095be8a5ad1c0d6747788fcf128a8f71378d8921d2b7d2c9e999e2898fcb7ae7a5048900b111c973622ebcbdc5e3232efb330464f4d76b1a0fb2d70ddb3882ae9a45a7f3115ad94acc926d1ed33f940cd7bcd8a296983bb3ff4592009ce498b9d4552e6e019d453210545ac5c2f48a1fe75b5dd93cff4f124c363f22578cd7d3b5a5244a871c37244e79eaa1ffc3966f716520b8cbf38ba1c33ec68939fce45a2519eda4f1029d2e5fa3069e5fed848d9e078ed29af5a10541933db39ed353895f2b269437f2a04ba09528b0ba92bf725ea300752226b888f4cf3c3fa973e4b2017b74c86cdbe81829513bd62f2055076e0463b39c2155635772d80b2f6945319bede15535a3becbd9374122f0f974ef2c9ec990369f2a90dfb7f1355e5e183489880c4a9e63740967dec2a77dbfa003361bfee2f3e4f1e4cc02afe0d82a14a47ba9fac237ed616fc892c1d93387b9a9682a78994cd62074b295afc542b190ef2391e8352e8ada52147b448ee2e2cc8cd5170af58cbf211f7b0d49a6b6b6ec628b0dfb4e4636df58dc5c55b3634457d7f949a1f26abc64db158fa51343a5990d707218b01dabf223361cc4f6ce3cfc6b62c5306ad1bfbabf5c51003551a07bb053e5a419d5d8c8c200feb87ab9dd0802d418068285bfa3f0c0ae717d4671cb9d4b2cb0c12d44985961c259f4433fe732da40458c3903d6191f7a6167132a9db3476dfbfc37f3c5d37b49e3027ab9a981ed788e124ed88abe2f3a10f52fd5ba278e6555acc89d916b30c2dcf3bbcc6cfc1985e66a169a6eb1f251cef9ece3487e88d1f81676d97955ef374465e16ad36abaabd3888236dc0eb27050b9050a396a6d8a2cb451b8d75e480d8afa13ddefcda4c28a8483a441edbc034023fe5332c52e86dde7f71dd1865d471deb7ea04a09f38a9307206e2fc53e205362d95247adc5dc5cb5cb064609f2cd11ecbf005612d12165725799044eb45673a1e9c1a1275dc70ff5992500754c6efd851666b6a5d02d438d01e881b430876245d4bc4b888988471fdad5104e5bc5a518a83a9be98f9a1ea11473b8eb32150714ffa1bdddaf35fb7e0b50cb075a8a38437638cd4803e3e8baea0630420947dfb274a4980fd6c8d4a1a79d033406b7dae6cf68f83cfabe9e5bc9e4ef51c49362017fa835497b909bf0599ec764709a527a8bbf59007602bbeb676a60a3c990bb1630c18f4ba3b3ce71d73ebdff879af9347c7fd9d0789cf7d15fbe3196a4cbaecc3fbd2a5ed2f1d995cc03c6e5bfb48395b317ca4b3ff626e291f6cf877186eddd707b8d5a66de90ced49f276b417032d264d992d6dcf26267bdfbeb37a7e65438ae136bf65ad0da4998a3a331e7593786157562ac0eb4d37e68d41181d79677265b27099d770b4443cbf9d08859e4ac79f9adcbc41000ce203fedb40ceeb5050fa56a5bc9f038d4f13cc860e3e68a5df055ae2df2c09a392435e5770790835e2db2081dd21d28f2bc76eba810d5cdba41c97a8a64512af71eb9bbfc8b7ea17f41710cc034d33e92ca73c02a6e7501e33efe57efb54ecdf36e1e18207994779fe8a8e299ec5ddf186b6c859e5884994ac780d6f800d7e65ab1746e56b9dca3f08a0fd7a86680a53ffc70bb1b3138844a3ae4ee7267c2cdbba2cd8da1af7522fb6eaeb6b737637df1e69c0356ba02ca06a064d80add016c1a5fe804be21250c93dc859313ff0c41a68c351a702b2f24279d197cd1201080edb1006ae100ffa7d660a5439a79bcbda24e2fdf445f010bc49514e5030f10b4760101d07cec44773136f884264a3c0dc465fb950bbc2c11cebfd9a7de7b0f18e77e03e2a2e5199308f21fde4d9092328651d13d9b86cfbadde55d4eb3bd815d3c4349ca4e3944bfad27ef31b6034b3c934f8eeed228845091fbd030858ffbb6448dfb3454a5049bc86e3894814de855627b4cbb9a90515360f9087c7f99b894b7839c6b3beb0a6dcfe102d549cf571e287720b02fac463bddbaf1fd3d4865c9444f36d763d977d6e4741bdd983133112bd2567af10bbeba5944c39f3cd3ea9d5249cfcaa56f762224c1fe4ed7a847303859cb36d642c6bf903012327fa4af7ee0d901e09d4b2443f4036e3c7cf46971b90750fdf2c63f3f10b18ad46da18b62f7320d0d05366aecef0d0281ab8ec80888c332761300eff916a846fa3887e58f76fcbd5122861324e748dc0544b5886aab637188d40d4232587d5f11d9ddb9f7c8a1fd9b084032a6724e786d8ea632dfb85a0e650f8120758c1a58ebe077658f28e1181802ea5a90e1fce99a1e0246e60837048a75e47e6deba2959cec9f63029671dba511ff1a3ebee4a0b5868621c56afa369f17cff651d03cc620984dd1d985184ae7b3d2c9d0e838d9843b6a893e22643ce7057d33075dc937146e7d0194a2bbbf87a427d5235fa361f1eae8f35090b83f4a589205b683f773a2588018ae306383fdff65a857fc13be804b20a13f8982a3652eea9006ad3e4767f520abe82f199dbe74870cec8e466cb98ff00002a00000000008a0102a9c1d59ef327d76207a8a26373c89b9d0d0eb25d6ca7551a3f291c8c6cd3f0b45a36669e8960989d59bb5412a3aea7a6c0d994375d43bf812f38c96eedaf712506226e46111a0b59caaf126043eb5bbf28c34f3a5e332a1fc7b2b73cf188910f00002a0000000000657313c00101009000000000000003e8000000640000000a000000003b9aca00000000000138ca11203794f6ef69fc7df13b91e7848c837632bd1407bec63d9ade0330a3f701fdc25600010124f62dbfbfc3ba1da02c846abbf48de14377d8a73d8b69b9e7145c231e2b060d24000000002b40420f000000000022002026fa4316fb307d348467c0edd3b8bb1eff9ca3ec04367ce5788885712ec400b04752210243fc4580744090c5009be7bb3b85b91c6dfdfeffc67e37a808a89431b24461bc2102e5b062a9484e793eaf759f5ab4879577e5d1af684866decf0603f1c56a18de0f52ae0002e5b062a9484e793eaf759f5ab4879577e5d1af684866decf0603f1c56a18de0f029bd74977c75b38711165bb9506c4b2725fbb9a031364d299681e80ec2952285500fe00061a80fd044cfd00fd010101010024f62dbfbfc3ba1da02c846abbf48de14377d8a73d8b69b9e7145c231e2b060d2400000000fefffffffdfe2faf0800fe0bebc2000104220020e4187f51de13d85db945c888357da388e2877ec578316fc25ecac3e716f4866bfe32a627f0fe0bebc2000102027d02000000018c19fefe4b851e9da17f94d44b549d87124aec35a4a85c40c566564c51ada7220200000000000000000250c3000000000000220020778f86e213a518e8336ec940874ccf4b92910332f5b3c0265374a86dbd34e6a5960000000000000016001425deb8d8a6cb84452c47904350e79c523dbfefdb0000000000fefffffffd03d598883dc23081c5926dab28dbd075d542c4fba544471921dbb96a31d7bc49190256e948180f33f067246710a41656084fc245b97eda081efe1e488b21577d60fdfd6540000000fe00061a80cc004738ca11203794f6ef69fc7df13b91e7848c837632bd1407bec63d9ade0330a3f79ad1a0a72421f2f13a86e069498ee9c1a5687c1b06968776f9699940e624d5300000fd02594066195c52f770b513f87862384c79a4ad543fff3a81fa6e3d45e76ebea9bd319a38706e847ae4e53fb9d97111b69f0cbfc86f20c92d35f155855b3de9de804548fd025b40849a87ab6815902abbc4f3d9773517c18eeddc5d10dd949aeccdad068be0e5d8260b54dff0c783ae0c330157954e371fadd82bb084d2fd9de28867a87ca60b70010000fd1388fe32a627f0fe0bebc20000249ad1a0a72421f2f13a86e069498ee9c1a5687c1b06968776f9699940e624d530000000002b9604100000000000220020e4187f51de13d85db945c888357da388e2877ec578316fc25ecac3e716f4866b475221029bd74977c75b38711165bb9506c4b2725fbb9a031364d299681e80ec2952285521029e2ff8460c1ea74f8892509f4c60340d19a1981c4339e2a728ddef8df08eea4b52aefd01bc020000000001019ad1a0a72421f2f13a86e069498ee9c1a5687c1b06968776f9699940e624d5300000000000620f4680044a0100000000000022002063d3fcf7f93eb1b30ff3d7f185c2889a5fa8c4a584cedd4e0ce3a16e10ea2c994a01000000000000220020a483a289ea09e761fae87c628675e3d52f23fcc6355ff15c3bde6ce2dc86d802400d0300000000002200202a563e407578aae18800c2388759b5bad0ceef5a3759de39d7acedffd868d30dcede0c0000000000220020bf57f237188dde15a4a0947bf64cd985f95163d77fee3d8372cdce323de1efdf04004730440220772d80d88ac5156fb8096ba19129492e66bdf8bea76e750847534f7aafb9621d022075f0480e72f576632ad9b80fbc5e7630951753c8425892adac6eb0352823de12014830450221009ea0e484d4d4c43c46960cb2f182e0460ebe560c036691076e2ddc03e2d87933022042074738e8a9c263694060f5fbcdd42a308d56abca4e5466f8d958d018fc5d0501475221029bd74977c75b38711165bb9506c4b2725fbb9a031364d299681e80ec2952285521029e2ff8460c1ea74f8892509f4c60340d19a1981c4339e2a728ddef8df08eea4b52ae65031b20000000fd1388fe0bebc200fe32a627f0b8b2f694372a292f7822c17f2400184c2f70195afc7523987a14f65e7601042d03cb5d3b7310e6532d403dc7ad5857869e6ace3a2a1a7cf710c8a9b307a5ebb02c00"
            )
            val state = Serialization.deserialize(bin).value
            assertIs<Normal>(state)
            val splice = state.spliceStatus
            assertIs<SpliceStatus.WaitingForSigs>(splice)
            assertNull(splice.liquidityPurchase)
            assertTrue(splice.session.localCommit.isRight)
        }
        run {
            // The serialized data was created with lightning-kmp v1.6.1 and contained legacy liquidity leases.
            val bin = Hex.decode(
                "040213081f6d86356f02bbc63032527acc16f247306626923ac644d268c6d388acc201010410101000037108815ff0128f7ed22640485c226d9ad64a9fd6d8b41b6623565aed6b34812c09fe21f607fafe59f292aafea0974737fe11ba0ae3fe832735b0fe3f644273fedfd83bd0fe0efc0570fe80000001fd044cfe59682f000090640116001405e0104aa726e34ff5cd3a6320d05c0862b5b01c13280880000000000000000000001000121a51020362b19a83930389b4468be40308efb3f352b23142ae25e6aba0465a8220f95b06fd03e8fe59682f00fd03e890640260f378afd291d92f6fe86c27178aef4caf84fb545c1e63f9c9a1898298becaf9029f1c8b58528763c71c3a2e1526ec903c5e75a61c870050011fd7ccdd0a803089030c2c6185254249b67c1426f79652be21a26e093bc2ffcbac93e73ee7cf1e7a4b03e22dcab5315ab54d7ccd6cc496273abffcda59bf7e835c0c4fe7fa3884c330bf1408220222000000000000000000001004162a510200000000000000000000010003d0dd6515d07459f110be9c3165b950916df51e1dd342d673278784f4964e135302fd010d020000000001024bd7d5d15958ededa6e71e049765ffa30471938e615ae06af6e9ec88ddd1dcbc0000000000fdffffffb6a76d06353bcfd53969c1c444befc11d460d2a696f1f64104fe6c2dc0a9b6790000000000fdffffff0140420f0000000000220020cfde05ca43faf792db30fbd8511b29068f3f0bd610d850f5ba6d55018511d69a01405925f4175684907db9feb2f110fb67be493d0336043a7950d7cbc282825cb06e71fe2479ae803379113affc37a993b3efd65551e5bfd31c2e57059c2c4cf26680140e30f414054e2b6b8e875ba78f42471be44467d11382e247b8ea6b24163f43628e2ec0979a7a446c4dc6651314ab80e4300bb60497f70ea7914b4eda86428d9f9801a0600fd1388fd0194004713081f6d86356f02bbc63032527acc16f247306626923ac644d268c6d388acc2555a8f256dd2cd0f98bd8f64df22bc7470116f7edad3e51d2ebc61b6e69b67bb0000fd025fa4628dd41f5d8a4efdd98d316d9d857786000804515b25107a8d27a8e74d7b6bda031bbec27357117fe7efb2a70dfcf6cca04f4b26fe94049993334a5412ba2f209303ddb49212eae6b925dbc941924e994a3b81e000342e6f45966f8435eabaaa0f2c03744f6eb266cf5e21110cb0adcebf8eb1daa936b48a21f3cad3628514b991e66002afc74c8668b444b03d503955befd0406dcd191ccd7b7c5a243d2f6893ba27a3bfd0261a4f48ed47669759026cd1f7a08d68f6837741807bb3ea1d5a6a058ec14dca1e1540274440233607f320c1b193d1c1c3d3f5de40df28cb4dba3c187d1139ba1f1ed0d02b50805c457b12fe9c7e2863dba2c723523bc5de831f447d12fff7e34d16b78df03cb03a6802d32f58d7961fbfe1329f5c1a108514993733dedc4e63ea01064a9540384f3da08590794bebf4f07581f94f746e2cf45f865b9634c6d3b9a9d0dfac9ff000000fd1388fe2faf0800fe0bebc2000024555a8f256dd2cd0f98bd8f64df22bc7470116f7edad3e51d2ebc61b6e69b67bb000000002b40420f0000000000220020cfde05ca43faf792db30fbd8511b29068f3f0bd610d850f5ba6d55018511d69a4752210218bb3f1452c4036155e8f06bbb714e62b1dd4185a83c5cd069665782a04b85852103d0dd6515d07459f110be9c3165b950916df51e1dd342d673278784f4964e135352aefd01bd02000000000101555a8f256dd2cd0f98bd8f64df22bc7470116f7edad3e51d2ebc61b6e69b67bb0000000000e3033a80044a01000000000000220020a3aeecbd2707fd89c1339ca772a327ddac438b64c8a8cc6dbe5180456671abb54a01000000000000220020e5258298238c1e7605fa3f2b97ec1dd1a30c01b2e10930a39a2a11cc2ac01ad2400d03000000000022002021d519f1ce1e3ae039dacb110411dfe477ccf4b6c2168a141919ca482b6ae317781c0c00000000002200203cf8e1d032035e81667c393f5f6638143284a4add6efd656b9641c04eb29ff6c0400483045022100825aeb88370fc80925c23230f99ba96949b6a2548d63036d630319c47bb53a8e022035f6fc69b40936e90102a82147a1e4a6b1fcc7b6ebae83c7a83baf4f153dc00e01483045022100e5e07dd084cc3dbc2e6885088769388111978943bbd42975176871baae70634302206c3deb31f4f02bdf208be8d0396908a320d7e259aa02b310dd40845f8478079f014752210218bb3f1452c4036155e8f06bbb714e62b1dd4185a83c5cd069665782a04b85852103d0dd6515d07459f110be9c3165b950916df51e1dd342d673278784f4964e135352aefe3fa020000000fd1388fe0bebc200fe2faf08006639a3d97853ba424ca83d402055fc00c90ee2671ac43c20675f2d206f48826303b93622e8424a4d6fb07b934730afe5d61c98e888d51f9fcffa2cd0aebc6f68890000000103ccfff8d148c8b109d9bccb1fdc9846c4de2605c81faab2d580db7102657bb16d0000fd086d04000e4f35a4e36333583c23eee2d42bbab50a6987a60b082d35fa9c48847b8b0efe13b59f2dc3e00bbb34ef9f499814525189580f167b5acbea567efe287d2e5c11d426eb3d2c47c30feacd3d99520df9f359114e57470bd382937dd0f9ba6953ac9401f543a0fbb56022fbad18bd931c511f70d67293ec864d7943875fc2c8498553cbb023c380e41ad9394d858be52a89d11f85c2e221fa0662f1dd8b9a4634f5a88ebc38456afe48490f74a42b262cf80bc4c9a67bfa8180dc5168f874a1ea43a9915bb02657bebd0ce54d5bfa1a08f8b29df57ebd1d1efd774bac2644f2fe28f20f92b8d79af92efe9a65bf51dcfb753ca7355a7d250496c5cee0db43e750a089f63d044389ddf5339d27288c4103514cfa6a46caaf6fb8b173eb0720d94b7bd5ec458c7367d1d88b9de235fefe7d7f21f71f32f651651adbad47668709c1074a98b129ee65115e5171dbb70c80ccebe6b56091dd214634a5d8e06d3075af927eb97327d71eb7d0397953986acd31c089b93f4a62a0ba6977ccedb7b80af9de2e786be0e37ab3a2e82c42a7d6c788917e800c1bd86f281db9deaf209a440c7cdc159eddfc8f2105fa276a485655d3d2d710bbf7da45bb8e834ab7f470ad569001dfdf36504f5a9e5efd123a8415b3d74a3c493e03c1550bb6aad295d39e7204e4d6908456341717d1760cc3b0d9cbe546af7b4ab471da0dfc89f2d6386d4aa932386e51e9bc3f7d6d140a4126c3a5a3974872df4567875eb277ccc1c0717621a058bff4fb980d6b006a5f540dfff0da403aa2573ba95c42472c04b20c94dc349e58df57476ad65b4604f55acafba905c427d77d1175f35454c368ec0cf78f49f7dd43cd3e275604069f9dd4777923676c40adc0bd2e15f07ac7eebb536a3d653226d14aa094dc7cfe37793ea4a3704b567ab841660e11c621a6e86d426abec6dcf3903423a53552c4ea099e56d590a49f58b6695071382bbf1eba2e36f0d55daa1bbe3d31995acbdcbec8658afc57d8a2ce12d43818ea6303f83f0bde85c5994228a5e7056d5b6828937b5378b5fe4e30e9ac0fd247bafdf35bf5a905d0d38b734398f7a8197e58e2b4ffb20f5a15140bf777de4e599175b24a627c0cdb2b9ad34869ee4f2a4e5072e85c6395be6a34f18f2f4e4b598b54700948d51b7497c66986fab1999ab1f95bc87c11aea4e0f266165fce87a0874981d4246063d8970101165134479f37b0c5d88dacde6f34871effa43600251f9ad1708fa300f03e34a8d965a66624312ba6f9f3bbc4b81417507367ea8be82f3dfda069f4cbc98b2eb09d9e35f5c21972ed366b0fcbdb53154a3772ff3dd00a1d7cdae5859a9c134a2b443297b62ccd95a70c61ef3242c4a94217ce3a04862d5f4c76de922a4a4b41cb6d201de0615524a9cc4f7cbd1b34094661cf49884aea386fd89f5e322ffbd3280a768d7f447b714e68464d00d32bf3fdb12390d6ea79ca7a684ec389ce09902ce71cd980e5bb1ad7902e77729965e4f64d27b40f805c0cc9fe6f21459beaba1fda10331b4dce8cc5eed8e3a15201d00e5ae507875d68f484bc98a8b03a8c8adbad6cadc5a1057d4495effcbc9e677ba11ef5fa34c8c0c5ed36d54e206c3c621806667a1f4265a63db73906969dddd94fc2293dcd03b66013772a81a8d1a391206209209649d0a583752487f5700474dc4ac13d3250b10f5c0e836fac6d07c851a1e98ec4dd2d203a31b04699212e29109224fecf96ffee85e347db4218295957604033b22fc682067651311a20514438a05ea7ebaf0ec8bca155278e6e5635a685b015fa3016325e4714540ee79e841e2cf30012d014be86d6f704d6bfd5746509a1dd3e162a390886b1d1fc8ba0dd63acefcffa3ed15a17df99cf9c13abf610b0c85ca31fd2f8af18c62f96259702fb93c5209e875f0c8e357af1a9928f10537997bb1288a6993f182f38d0604220b2d988307fb4427cdde499412470fe518757111cd862c2efad5985887a93fb94940e4c8ebb10356da48161b330713e890655afbafbb146f61f930b090028b934fd3b67d3b43e2e20c77874fd60773da913a0a72d96c4567e4119f33619347cd686c1d098856c6c0f01dc93388c6bd4ae52ac8ddd2335465aebcb198d8207edb15c61fba8b7bccae3ddf0180d96c61e32823487782ce1cf922da3d0472737c5a65801f3de65a370f82dfa0312ed2f673726ff256b30207652292c76c00f4b639b02733c11496a051716569ddcd99fed72159476bd63f59699b1ecffadc0c60e132b08c115f4b15e7874531e12c326c25058da980318f103b441293661156ec97b59be85bdc6049525ba23a77bff1eaa23936a926a7bddf8a4922967a7552034cbfcaed2411d02c0d889566d8d1998a2b8b33c7d1799364ae56ed0e08533862f2559dece76b188edc9c11f3c52469202a1b1a12de40b6e521a45371bebe3fcc89b9f43ee32c4565db64c471d5492a068d7c210919310df59239688fb0f847b157612f8f9683b92aedfbb7260a3fe6d4f124311b248b22f678c58a96ec5e10ae7bb797420923fac991409ef96aae3b8ab8eb53398bc24b12e867269b18e840eae115f1b5b9425015d24d8614bfefe2c4c6d19651f4fbb9a3aabe05975115496b323746afc5fcdf3666cdbd249fc68ae8564521afc65e53436118978f6b057eb5e4da6466f769c2cfa15b423726d3b9f6074bcc90e25663b0e49977e9eb3ff770e24d6ce2e57e75d76a96b4143a1c8f3620428f0b43bf4566b1ca7435551f693c1b41c5df63df6ba2ac9b58c93edeab7d1389fb8afdff9c1c519009ef2e3c06dac4700c868eca6847a5a4aca409a6397184b9671869412818d9a397b52db95c556d2a78b363690c85f9d86d697e89a3cd4f06d649ad7ea6e55eab2c2a163a7e589a3fff35d520c1795e45c9388e8769b9494a6b49914bba368e481d07e26f2136a43c2862fc4cf794f645204a9ee890c3d23c6b628f32da5f93c206732bffd20c2cbd00a1d667d8d3ecda1295800325003d737e9a7f1cbbca73fe3f030ff00002a00000000008a01021d81bc063000918971c3ef36d6fdf7d2bef977660d8e5e61fe0457864c1330ed1568299ee459d01a9dfd08a3e7a0c74002d36e84e186a5bff4340b183923d65206226e46111a0b59caaf126043eb5bbf28c34f3a5e332a1fc7b2b73cf188910f00002a000000000066505be50101009000000000000003e8000000640000000a000000003b9aca00000000000113081f6d86356f02bbc63032527acc16f247306626923ac644d268c6d388acc201ffffffffffffff3bf900010124555a8f256dd2cd0f98bd8f64df22bc7470116f7edad3e51d2ebc61b6e69b67bb000000002b40420f0000000000220020cfde05ca43faf792db30fbd8511b29068f3f0bd610d850f5ba6d55018511d69a4752210218bb3f1452c4036155e8f06bbb714e62b1dd4185a83c5cd069665782a04b85852103d0dd6515d07459f110be9c3165b950916df51e1dd342d673278784f4964e135352ae0003d0dd6515d07459f110be9c3165b950916df51e1dd342d673278784f4964e1353023820147f58f10fc823579e9ec16bcedddfad27a0a502b5fd1c7b1f89b38f0eb9011f50c30000000000001600146dfb6b029bde323412ab8ab96a06be54693e5c19fe00061a80fd044cfd00fd010101030024555a8f256dd2cd0f98bd8f64df22bc7470116f7edad3e51d2ebc61b6e69b67bb00000000220020cfde05ca43faf792db30fbd8511b29068f3f0bd610d850f5ba6d55018511d69afefffffffdfe2faf0800fe0bebc2000002042200200772d4d7fe05d7bdc102093ffed8bbfcab6ddefed3577bc7c41d16a6fdc5ce1dfe2cb14ca8fe0bebc200000000010202fdc3501600146dfb6b029bde323412ab8ab96a06be54693e5c1900fe00061a8088004713081f6d86356f02bbc63032527acc16f247306626923ac644d268c6d388acc28b280cf870f5064b7dff2fcee3975747922856de2fe7275d959e3bb81ac5e00c0000fd025940a332b7f1f74710ad15bb4d1d3f307d305022ac84b953bfb7f7494c998182e835736f20d226ab927138635b157e0068664b887fc897e4481f78dea0c1e1bd193702fe00030d4064fd015e967c5fc29a6804cca3b35f63ccefbea17035999856483744cb5722f94f04020b890b31e27d192ea79ff17fe3ab38c12adf4bb0997a60295ce6f2525542deda772200200772d4d7fe05d7bdc102093ffed8bbfcab6ddefed3577bc7c41d16a6fdc5ce1d00fe00061a8064fd03e80000fd1388fe2cb14ca8fe0bebc20000248b280cf870f5064b7dff2fcee3975747922856de2fe7275d959e3bb81ac5e00c010000002b397e0e00000000002200200772d4d7fe05d7bdc102093ffed8bbfcab6ddefed3577bc7c41d16a6fdc5ce1d475221023820147f58f10fc823579e9ec16bcedddfad27a0a502b5fd1c7b1f89b38f0eb92103d1d020a4766149a6fbc8eb6a0d4b05e9a4ba0241fd5baf6459534d0c673d69a952aedf02000000018b280cf870f5064b7dff2fcee3975747922856de2fe7275d959e3bb81ac5e00c0100000000e3033a80044a01000000000000220020294e81c524fb7b4e8735d24263c0b586ac131b8fa95651015cfb5e6b1b46f66f4a0100000000000022002043675f52248a7d3765165f8dee4d46e08fa1a57604c13fa991e280d92ad2e6ea400d03000000000022002021d519f1ce1e3ae039dacb110411dfe477ccf4b6c2168a141919ca482b6ae31771580b00000000002200203cf8e1d032035e81667c393f5f6638143284a4add6efd656b9641c04eb29ff6cfe3fa020000000fd1388fe0bebc200fe2cb14ca88b01a0e7d1c61c58cbff673636189d334e654bb72d4d6d1f10d528a1bd69f42603b93622e8424a4d6fb07b934730afe5d61c98e888d51f9fcffa2cd0aebc6f6889010156b38e125574b4454e656a3e546c16cdaedfdffc077d3e807fee4946e8ec15876464fd01f40101fe0007a120fafd02ee4745caee03439c2d96c16f2e43f8de1b408f02404a78a2a75e1e2f9074888c11c8e6a1613bd1223f1d965e4ef31d3e26f7769f818b235ee914f80f6b3dbe4f2d220020cfde05ca43faf792db30fbd8511b29068f3f0bd610d850f5ba6d55018511d69a00fe00061a8064fd03e8"
            )
            val state = Serialization.deserialize(bin).value
            assertIs<Normal>(state)
            val splice = state.spliceStatus
            assertIs<SpliceStatus.WaitingForSigs>(splice)
            assertNull(splice.liquidityPurchase)
            assertTrue(splice.session.localCommit.isLeft)
        }
    }

    @Test
    fun `encode taproot specific fields`() {
        val (alice, _) = TestsHelper.reachNormal()
        val bytes = Serialization.serialize(alice.state)
        val check = Serialization.deserialize(bytes).value
        assertEquals(alice.state, check)
        val input = alice.commitments.active[0].localCommit.publishableTxs.commitTx.input
        val scriptTree = ScriptTree.Branch(ScriptTree.Leaf(Script.pay2tr(randomKey().xOnlyPublicKey())), ScriptTree.Leaf(Script.pay2wpkh(randomKey().publicKey())))
        val input1 = Transactions.InputInfo.TaprootInput(input.outPoint, input.txOut, randomKey().xOnlyPublicKey(), Transactions.InputInfo.RedeemPath.ScriptPath(scriptTree, scriptTree.left.hash()))
        val alice1 = alice.state.copy(
            commitments = alice.commitments.copy(
                active = alice.commitments.active.updated(
                    0,
                    alice.commitments.active[0].copy(
                        localCommit = alice.commitments.active[0].localCommit.copy(
                            publishableTxs = alice.commitments.active[0].localCommit.publishableTxs.copy(
                                commitTx = alice.commitments.active[0].localCommit.publishableTxs.commitTx.copy(
                                    input = input1
                                )
                            )
                        )
                    )
                )
            )
        )
        val bytes1 = Serialization.serialize(alice1)
        val check1 = Serialization.deserialize(bytes1).value
        assertEquals(alice1, check1)
    }
}
